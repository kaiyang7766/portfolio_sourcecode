{"ast":null,"code":"import Entity from './Entity.js';\nimport Go from './traits/Go.js';\nimport Jump from './traits/Jump.js';\nimport { loadSpriteSheet } from './loaders.js';\nimport { createAnim } from './anim.js';\nexport function createMario() {\n  return loadSpriteSheet('mario').then(sprite => {\n    const mario = new Entity();\n    mario.size.set(50, 50);\n    mario.addTrait(new Go());\n    mario.addTrait(new Jump());\n    const runAim = createAnim(['run-1', 'run-2'], 15);\n\n    function routeFrame(mario) {\n      if (mario.jump.falling) {\n        return 'jump';\n      }\n\n      if (mario.go.dir !== 0) {\n        if (mario.vel.x > 0 && mario.go.dir < 0 || mario.vel.x < 0 && mario.go.dir > 0) {\n          return 'break';\n        }\n\n        return runAim(mario.go.distance);\n      }\n\n      return 'player';\n    }\n\n    mario.draw = function drawMario(context) {\n      sprite.draw(routeFrame(mario), context, 0, 0, this.go.heading < 0);\n    };\n\n    return mario;\n  });\n}","map":{"version":3,"sources":["C:/Users/Ang Kai Yang/Desktop/portfolio1/src/js/entities.js"],"names":["Entity","Go","Jump","loadSpriteSheet","createAnim","createMario","then","sprite","mario","size","set","addTrait","runAim","routeFrame","jump","falling","go","dir","vel","x","distance","draw","drawMario","context","heading"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,EAAP,MAAe,gBAAf;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,SAAQC,eAAR,QAA8B,cAA9B;AACA,SAAQC,UAAR,QAAyB,WAAzB;AAEA,OAAO,SAASC,WAAT,GAAsB;AAC5B,SAAOF,eAAe,CAAC,OAAD,CAAf,CACNG,IADM,CACDC,MAAM,IAAE;AACb,UAAMC,KAAK,GAAG,IAAIR,MAAJ,EAAd;AACAQ,IAAAA,KAAK,CAACC,IAAN,CAAWC,GAAX,CAAe,EAAf,EAAkB,EAAlB;AAEAF,IAAAA,KAAK,CAACG,QAAN,CAAe,IAAIV,EAAJ,EAAf;AACAO,IAAAA,KAAK,CAACG,QAAN,CAAe,IAAIT,IAAJ,EAAf;AAEA,UAAMU,MAAM,GAACR,UAAU,CAAC,CAAC,OAAD,EAAS,OAAT,CAAD,EAAmB,EAAnB,CAAvB;;AAEA,aAASS,UAAT,CAAoBL,KAApB,EAA0B;AACzB,UAAIA,KAAK,CAACM,IAAN,CAAWC,OAAf,EAAuB;AACtB,eAAO,MAAP;AACA;;AACD,UAAIP,KAAK,CAACQ,EAAN,CAASC,GAAT,KAAe,CAAnB,EAAqB;AACpB,YAAKT,KAAK,CAACU,GAAN,CAAUC,CAAV,GAAY,CAAZ,IAAeX,KAAK,CAACQ,EAAN,CAASC,GAAT,GAAa,CAA7B,IAAkCT,KAAK,CAACU,GAAN,CAAUC,CAAV,GAAY,CAAZ,IAAeX,KAAK,CAACQ,EAAN,CAASC,GAAT,GAAa,CAAlE,EAAqE;AACpE,iBAAO,OAAP;AACA;;AACD,eAAOL,MAAM,CAACJ,KAAK,CAACQ,EAAN,CAASI,QAAV,CAAb;AACA;;AACD,aAAO,QAAP;AACA;;AAEDZ,IAAAA,KAAK,CAACa,IAAN,GAAW,SAASC,SAAT,CAAmBC,OAAnB,EAA2B;AACrChB,MAAAA,MAAM,CAACc,IAAP,CAAYR,UAAU,CAACL,KAAD,CAAtB,EAA8Be,OAA9B,EAAsC,CAAtC,EAAwC,CAAxC,EAA0C,KAAKP,EAAL,CAAQQ,OAAR,GAAgB,CAA1D;AACA,KAFD;;AAIA,WAAOhB,KAAP;AACA,GA5BM,CAAP;AA6BA","sourcesContent":["import Entity from './Entity.js';\r\nimport Go from './traits/Go.js';\r\nimport Jump from './traits/Jump.js';\r\nimport {loadSpriteSheet} from './loaders.js';\r\nimport {createAnim} from './anim.js';\r\n\r\nexport function createMario(){\r\n\treturn loadSpriteSheet('mario')\r\n\t.then(sprite=>{\r\n\t\tconst mario = new Entity();\r\n\t\tmario.size.set(50,50);\r\n\t\t\r\n\t\tmario.addTrait(new Go());\r\n\t\tmario.addTrait(new Jump());\r\n\r\n\t\tconst runAim=createAnim(['run-1','run-2'],15);\r\n\r\n\t\tfunction routeFrame(mario){\r\n\t\t\tif (mario.jump.falling){\r\n\t\t\t\treturn 'jump';\r\n\t\t\t}\r\n\t\t\tif (mario.go.dir!==0){\r\n\t\t\t\tif ((mario.vel.x>0&&mario.go.dir<0)||(mario.vel.x<0&&mario.go.dir>0)){\r\n\t\t\t\t\treturn 'break';\r\n\t\t\t\t}\r\n\t\t\t\treturn runAim(mario.go.distance);\r\n\t\t\t}\r\n\t\t\treturn 'player';\r\n\t\t}\r\n\r\n\t\tmario.draw=function drawMario(context){\r\n\t\t\tsprite.draw(routeFrame(mario),context,0,0,this.go.heading<0);\r\n\t\t}\r\n\r\n\t\treturn mario;\r\n\t});\r\n}"]},"metadata":{},"sourceType":"module"}