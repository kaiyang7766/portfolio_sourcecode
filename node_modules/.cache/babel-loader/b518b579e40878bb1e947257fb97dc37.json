{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ang Kai Yang\\\\Desktop\\\\portfolio1\\\\src\\\\js\\\\Canvas.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react';\nimport { loadLevel } from './loaders/level.js';\nimport { createMario } from './entities.js';\nimport Timer from './Timer.js';\nimport { setupKeyboard } from './input.js';\nimport Camera from './Camera.js';\nimport './canvas.scss';\nimport * as msg from './entities_msg.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Canvas = props => {\n  _s();\n\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    console.log(canvas);\n    const context = canvas.getContext('2d');\n    context.canvas.width = 500;\n    context.canvas.height = 320;\n    Promise.all([createMario(), loadLevel('1-1'), msg.createTxt1(), msg.createTxt2(), msg.createTxt3(), msg.createTxt4(), msg.createTxt5(), msg.createTxt6(), msg.createTxt7(), msg.createTxt8(), msg.createTxt9(), msg.createTxt10(), msg.createTxt11(), msg.createTxt12()]).then(([mario, level, text1, text2, text3, text4, text5, text6, text7, text8, text9, text10, text11, text12]) => {\n      const camera = new Camera();\n      window.camera = camera;\n      mario.pos.set(50, 90);\n      text1.pos.set(50, 90);\n      text2.pos.set(50, 90);\n      text3.pos.set(500, 80);\n      text4.pos.set(500, 80);\n      text5.pos.set(720, 80);\n      text6.pos.set(880, 40);\n      text7.pos.set(1280, 80);\n      text8.pos.set(1280, 80);\n      text9.pos.set(1800, 80);\n      text10.pos.set(2200, 80);\n      text11.pos.set(2200, 80);\n      text12.pos.set(2600, 80);\n      level.entities.add(mario);\n      level.entities.add(text1);\n      level.entities.add(text2);\n      level.entities.add(text3);\n      level.entities.add(text4);\n      level.entities.add(text5);\n      level.entities.add(text6);\n      level.entities.add(text7);\n      level.entities.add(text8);\n      level.entities.add(text9);\n      level.entities.add(text10);\n      level.entities.add(text11);\n      level.entities.add(text12);\n      const input = setupKeyboard(mario);\n      input.listenTo(window);\n      const timer = new Timer(1 / 60);\n\n      timer.update = function update(deltaTime) {\n        level.comp.draw(context, camera);\n        level.update(deltaTime);\n\n        if (mario.pos.x > 100) {\n          camera.pos.x = mario.pos.x - 100;\n        }\n      };\n\n      timer.start();\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      className: \"canvas\",\n      ref: canvasRef,\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"guide\",\n      children: \"Arrow key left & right to move! Space to jump!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Canvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n\n_c = Canvas;\nexport default Canvas;\n\nvar _c;\n\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"sources":["C:/Users/Ang Kai Yang/Desktop/portfolio1/src/js/Canvas.js"],"names":["React","useRef","useEffect","loadLevel","createMario","Timer","setupKeyboard","Camera","msg","Canvas","props","canvasRef","canvas","current","console","log","context","getContext","width","height","Promise","all","createTxt1","createTxt2","createTxt3","createTxt4","createTxt5","createTxt6","createTxt7","createTxt8","createTxt9","createTxt10","createTxt11","createTxt12","then","mario","level","text1","text2","text3","text4","text5","text6","text7","text8","text9","text10","text11","text12","camera","window","pos","set","entities","add","input","listenTo","timer","update","deltaTime","comp","draw","x","start"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport {loadLevel} from './loaders/level.js';\r\nimport {createMario} from './entities.js';\r\nimport Timer from './Timer.js';\r\nimport {setupKeyboard} from './input.js';\r\nimport Camera from './Camera.js';\r\nimport './canvas.scss';\r\nimport * as msg from './entities_msg.js';\r\n\r\nconst Canvas = (props) => {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    console.log(canvas);\r\n    const context = canvas.getContext('2d');\r\n    context.canvas.width=500;\r\n    context.canvas.height=320;\r\n    \r\n    Promise.all([\r\n      createMario(),\r\n      loadLevel('1-1'),\r\n      msg.createTxt1(),\r\n      msg.createTxt2(),\r\n      msg.createTxt3(),\r\n      msg.createTxt4(),\r\n      msg.createTxt5(),\r\n      msg.createTxt6(),\r\n      msg.createTxt7(),\r\n      msg.createTxt8(),\r\n      msg.createTxt9(),\r\n      msg.createTxt10(),\r\n      msg.createTxt11(),\r\n      msg.createTxt12(),\r\n    ])\r\n    .then(([mario,level,text1,text2,text3,text4,text5,text6,text7,text8,text9,text10,text11,text12])=>{\r\n      const camera = new Camera();\r\n      window.camera=camera;\r\n   \r\n      mario.pos.set(50,90);\r\n      text1.pos.set(50,90);\r\n      text2.pos.set(50,90);\r\n      text3.pos.set(500,80);\r\n      text4.pos.set(500,80);\r\n      text5.pos.set(720,80);\r\n      text6.pos.set(880,40);\r\n      text7.pos.set(1280,80);\r\n      text8.pos.set(1280,80);\r\n      text9.pos.set(1800,80);\r\n      text10.pos.set(2200,80);\r\n      text11.pos.set(2200,80);\r\n      text12.pos.set(2600,80);\r\n   \r\n      level.entities.add(mario);\r\n      level.entities.add(text1);\r\n      level.entities.add(text2);\r\n      level.entities.add(text3);\r\n      level.entities.add(text4);\r\n      level.entities.add(text5);\r\n      level.entities.add(text6);\r\n      level.entities.add(text7);\r\n      level.entities.add(text8);\r\n      level.entities.add(text9);\r\n      level.entities.add(text10);\r\n      level.entities.add(text11);\r\n      level.entities.add(text12);\r\n\r\n      const input=setupKeyboard(mario);\r\n      input.listenTo(window);\r\n   \r\n      const timer= new Timer(1/60);\r\n   \r\n      timer.update =function update(deltaTime){\r\n      level.comp.draw(context,camera);\r\n      level.update(deltaTime);\r\n      if (mario.pos.x>100){\r\n        camera.pos.x=mario.pos.x-100\r\n      }\r\n    }\r\n      timer.start();\r\n    });\r\n  },[])\r\n  \r\n  return(\r\n    <>\r\n    <canvas className=\"canvas\" ref={canvasRef} {...props}/>\r\n    <h2 className=\"guide\">Arrow key left & right to move! Space to jump!</h2>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Canvas"]},"metadata":{},"sourceType":"module"}