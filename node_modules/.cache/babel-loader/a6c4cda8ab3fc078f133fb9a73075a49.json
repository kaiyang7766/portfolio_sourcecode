{"ast":null,"code":"import _classCallCheck from\"C:/Users/Ang Kai Yang/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Ang Kai Yang/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Ang Kai Yang/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Ang Kai Yang/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Sides,Trait}from'../Entity.js';var Jump=/*#__PURE__*/function(_Trait){_inherits(Jump,_Trait);var _super=_createSuper(Jump);function Jump(){var _this;_classCallCheck(this,Jump);_this=_super.call(this,'jump');_this.ready=0;_this.duration=0.5;_this.velocity=200;_this.engageTime=0;_this.requestTime=0;_this.gracePeriod=0.1;_this.speedBoost=0.1;return _this;}_createClass(Jump,[{key:\"falling\",get:function get(){return this.ready<0;}},{key:\"start\",value:function start(){this.requestTime=this.gracePeriod;}},{key:\"cancel\",value:function cancel(){this.engageTime=0;this.requestTime=0;}},{key:\"obstruct\",value:function obstruct(entity,side){if(side===Sides.BOTTOM){this.ready=1;}else if(side===Sides.TOP){this.cancel();}}},{key:\"update\",value:function update(entity,deltaTime){if(this.requestTime>0){if(this.ready>0){this.engageTime=0.3;this.requestTime=0;}this.requestTime-=deltaTime;}if(this.engageTime>0){entity.vel.y=-this.velocity+Math.abs(entity.vel.x)*this.speedBoost;this.engageTime-=deltaTime;}this.ready--;}}]);return Jump;}(Trait);export{Jump as default};","map":{"version":3,"sources":["C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/traits/Jump.js"],"names":["Sides","Trait","Jump","ready","duration","velocity","engageTime","requestTime","gracePeriod","speedBoost","entity","side","BOTTOM","TOP","cancel","deltaTime","vel","y","Math","abs","x"],"mappings":"wdAAA,OAAQA,KAAR,CAAcC,KAAd,KAA0B,cAA1B,C,GAEqBC,CAAAA,I,oFACpB,eAAa,sCACZ,uBAAM,MAAN,EAEA,MAAKC,KAAL,CAAW,CAAX,CACA,MAAKC,QAAL,CAAc,GAAd,CACA,MAAKC,QAAL,CAAc,GAAd,CACA,MAAKC,UAAL,CAAgB,CAAhB,CACA,MAAKC,WAAL,CAAiB,CAAjB,CACA,MAAKC,WAAL,CAAiB,GAAjB,CACA,MAAKC,UAAL,CAAgB,GAAhB,CATY,aAUZ,C,sCAED,cAAa,CACZ,MAAO,MAAKN,KAAL,CAAY,CAAnB,CACA,C,qBAED,gBAAO,CACN,KAAKI,WAAL,CAAiB,KAAKC,WAAtB,CACA,C,sBAED,iBAAQ,CACP,KAAKF,UAAL,CAAgB,CAAhB,CACA,KAAKC,WAAL,CAAiB,CAAjB,CACA,C,wBAED,kBAASG,MAAT,CAAiBC,IAAjB,CAAsB,CACrB,GAAIA,IAAI,GAAGX,KAAK,CAACY,MAAjB,CAAwB,CACvB,KAAKT,KAAL,CAAW,CAAX,CACA,CAFD,IAEO,IAAIQ,IAAI,GAAGX,KAAK,CAACa,GAAjB,CAAqB,CAC3B,KAAKC,MAAL,GACA,CACD,C,sBAED,gBAAOJ,MAAP,CAAcK,SAAd,CAAwB,CACvB,GAAI,KAAKR,WAAL,CAAiB,CAArB,CAAuB,CACtB,GAAI,KAAKJ,KAAL,CAAW,CAAf,CAAiB,CAChB,KAAKG,UAAL,CAAgB,GAAhB,CACA,KAAKC,WAAL,CAAiB,CAAjB,CACA,CAED,KAAKA,WAAL,EAAkBQ,SAAlB,CACA,CACD,GAAI,KAAKT,UAAL,CAAgB,CAApB,CAAsB,CACrBI,MAAM,CAACM,GAAP,CAAWC,CAAX,CAAa,CAAC,KAAKZ,QAAN,CAAea,IAAI,CAACC,GAAL,CAAST,MAAM,CAACM,GAAP,CAAWI,CAApB,EAAuB,KAAKX,UAAxD,CACA,KAAKH,UAAL,EAAiBS,SAAjB,CACA,CAED,KAAKZ,KAAL,GACA,C,kBAjDgCF,K,SAAbC,I","sourcesContent":["import {Sides,Trait} from '../Entity.js';\r\n\r\nexport default class Jump extends Trait{\r\n\tconstructor(){\r\n\t\tsuper('jump');\r\n\r\n\t\tthis.ready=0;\r\n\t\tthis.duration=0.5;\r\n\t\tthis.velocity=200;\r\n\t\tthis.engageTime=0;\r\n\t\tthis.requestTime=0;\r\n\t\tthis.gracePeriod=0.1;\r\n\t\tthis.speedBoost=0.1;\r\n\t}\r\n\r\n\tget falling(){\r\n\t\treturn this.ready <0;\r\n\t}\r\n\r\n\tstart(){\r\n\t\tthis.requestTime=this.gracePeriod;\r\n\t}\r\n\r\n\tcancel(){\r\n\t\tthis.engageTime=0;\r\n\t\tthis.requestTime=0;\r\n\t}\r\n\r\n\tobstruct(entity, side){\r\n\t\tif (side===Sides.BOTTOM){\r\n\t\t\tthis.ready=1;\r\n\t\t} else if (side===Sides.TOP){\r\n\t\t\tthis.cancel();\r\n\t\t}\r\n\t}\r\n\r\n\tupdate(entity,deltaTime){\r\n\t\tif (this.requestTime>0){\r\n\t\t\tif (this.ready>0){\r\n\t\t\t\tthis.engageTime=0.3;\r\n\t\t\t\tthis.requestTime=0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.requestTime-=deltaTime;\r\n\t\t}\r\n\t\tif (this.engageTime>0){\r\n\t\t\tentity.vel.y=-this.velocity+Math.abs(entity.vel.x)*this.speedBoost;\r\n\t\t\tthis.engageTime-=deltaTime;\r\n\t\t}\r\n\r\n\t\tthis.ready--;\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}