{"ast":null,"code":"import _objectSpread from\"C:/Users/Ang Kai Yang/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Ang Kai Yang/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useEffect}from'react';import{loadLevel}from'./loaders/level.js';import{createMario}from'./entities.js';import Timer from'./Timer.js';import{setupKeyboard}from'./input.js';import Camera from'./Camera.js';import'./canvas.scss';import*as msg from'./entities_msg.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Canvas=function Canvas(props){var canvasRef=useRef(null);useEffect(function(){var canvas=canvasRef.current;console.log(canvas);var context=canvas.getContext('2d');context.canvas.width=500;context.canvas.height=320;Promise.all([createMario(),loadLevel('1-1'),msg.createTxt1(),msg.createTxt2(),msg.createTxt3(),msg.createTxt4(),msg.createTxt5(),msg.createTxt6(),msg.createTxt7(),msg.createTxt8(),msg.createTxt9(),msg.createTxt10()]).then(function(_ref){var _ref2=_slicedToArray(_ref,12),mario=_ref2[0],level=_ref2[1],text1=_ref2[2],text2=_ref2[3],text3=_ref2[4],text4=_ref2[5],text5=_ref2[6],text6=_ref2[7],text7=_ref2[8],text8=_ref2[9],text9=_ref2[10],text10=_ref2[11];var camera=new Camera();window.camera=camera;mario.pos.set(50,90);text1.pos.set(50,90);text2.pos.set(50,90);text3.pos.set(500,80);text4.pos.set(500,80);text5.pos.set(720,80);text6.pos.set(880,40);text7.pos.set(1280,80);text8.pos.set(1280,80);text9.pos.set(1800,80);text10.pos.set(2400,80);level.entities.add(mario);level.entities.add(text1);level.entities.add(text2);level.entities.add(text3);level.entities.add(text4);level.entities.add(text5);level.entities.add(text6);level.entities.add(text7);level.entities.add(text8);level.entities.add(text9);level.entities.add(text10);var input=setupKeyboard(mario);input.listenTo(window);var timer=new Timer(1/60);timer.update=function update(deltaTime){level.comp.draw(context,camera);level.update(deltaTime);if(mario.pos.x>100){camera.pos.x=mario.pos.x-100;}};timer.start();});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"canvas\",_objectSpread({className:\"canvas\",ref:canvasRef},props)),/*#__PURE__*/_jsx(\"h2\",{className:\"guide\",children:\"Arrow key left & right to move! Space to jump!\"})]});};export default Canvas;","map":{"version":3,"sources":["C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/Canvas.js"],"names":["React","useRef","useEffect","loadLevel","createMario","Timer","setupKeyboard","Camera","msg","Canvas","props","canvasRef","canvas","current","console","log","context","getContext","width","height","Promise","all","createTxt1","createTxt2","createTxt3","createTxt4","createTxt5","createTxt6","createTxt7","createTxt8","createTxt9","createTxt10","then","mario","level","text1","text2","text3","text4","text5","text6","text7","text8","text9","text10","camera","window","pos","set","entities","add","input","listenTo","timer","update","deltaTime","comp","draw","x","start"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport {loadLevel} from './loaders/level.js';\r\nimport {createMario} from './entities.js';\r\nimport Timer from './Timer.js';\r\nimport {setupKeyboard} from './input.js';\r\nimport Camera from './Camera.js';\r\nimport './canvas.scss';\r\nimport * as msg from './entities_msg.js';\r\n\r\nconst Canvas = (props) => {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    console.log(canvas);\r\n    const context = canvas.getContext('2d');\r\n    context.canvas.width=500;\r\n    context.canvas.height=320;\r\n    \r\n    Promise.all([\r\n      createMario(),\r\n      loadLevel('1-1'),\r\n      msg.createTxt1(),\r\n      msg.createTxt2(),\r\n      msg.createTxt3(),\r\n      msg.createTxt4(),\r\n      msg.createTxt5(),\r\n      msg.createTxt6(),\r\n      msg.createTxt7(),\r\n      msg.createTxt8(),\r\n      msg.createTxt9(),\r\n      msg.createTxt10(),\r\n    ])\r\n    .then(([mario,level,text1,text2,text3,text4,text5,text6,text7,text8,text9,text10])=>{\r\n      const camera = new Camera();\r\n      window.camera=camera;\r\n   \r\n      mario.pos.set(50,90);\r\n      text1.pos.set(50,90);\r\n      text2.pos.set(50,90);\r\n      text3.pos.set(500,80);\r\n      text4.pos.set(500,80);\r\n      text5.pos.set(720,80);\r\n      text6.pos.set(880,40);\r\n      text7.pos.set(1280,80);\r\n      text8.pos.set(1280,80);\r\n      text9.pos.set(1800,80);\r\n      text10.pos.set(2400,80);\r\n   \r\n      level.entities.add(mario);\r\n      level.entities.add(text1);\r\n      level.entities.add(text2);\r\n      level.entities.add(text3);\r\n      level.entities.add(text4);\r\n      level.entities.add(text5);\r\n      level.entities.add(text6);\r\n      level.entities.add(text7);\r\n      level.entities.add(text8);\r\n      level.entities.add(text9);\r\n      level.entities.add(text10);\r\n\r\n      const input=setupKeyboard(mario);\r\n      input.listenTo(window);\r\n   \r\n      const timer= new Timer(1/60);\r\n   \r\n      timer.update =function update(deltaTime){\r\n      level.comp.draw(context,camera);\r\n      level.update(deltaTime);\r\n      if (mario.pos.x>100){\r\n        camera.pos.x=mario.pos.x-100\r\n      }\r\n    }\r\n      timer.start();\r\n    });\r\n  },[])\r\n  \r\n  return(\r\n    <>\r\n    <canvas className=\"canvas\" ref={canvasRef} {...props}/>\r\n    <h2 className=\"guide\">Arrow key left & right to move! Space to jump!</h2>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Canvas"]},"metadata":{},"sourceType":"module"}