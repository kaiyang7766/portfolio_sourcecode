{"ast":null,"code":"import { Trait } from '../Entity.js';\nexport default class Go extends Trait {\n  constructor() {\n    super('go');\n    this.dir = 0;\n    this.acceleration = 400;\n    this.deceleration = 300;\n    this.dragFactor = 1 / 5000;\n    this.distance = 0;\n    this.heading = 1;\n  }\n\n  update(entity, deltaTime) {\n    const absX = Math.abs(entity.vel.x);\n\n    if (this.dir !== 0) {\n      entity.vel.x += this.acceleration * this.dir * deltaTime;\n\n      if (entity.jump) {\n        if (entity.jump.falling === false) {\n          this.heading = this.dir;\n        }\n      } else {\n        this.heading = this.dir;\n      }\n    } else if (entity.vel.x !== 0) {\n      const decel = Math.min(absX, this.deceleration * deltaTime);\n      entity.vel.x += entity.vel.x > 0 ? -decel : decel;\n    } else {\n      this.distance = 0;\n    }\n\n    const drag = this.dragFactor * entity.vel.x * absX;\n    entity.vel.x -= drag;\n    this.distance += absX * deltaTime;\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Ang Kai Yang/Desktop/portfolio1/src/js/traits/Go.js"],"names":["Trait","Go","constructor","dir","acceleration","deceleration","dragFactor","distance","heading","update","entity","deltaTime","absX","Math","abs","vel","x","jump","falling","decel","min","drag"],"mappings":"AAAA,SAAQA,KAAR,QAAoB,cAApB;AAEA,eAAe,MAAMC,EAAN,SAAiBD,KAAjB,CAAsB;AACpCE,EAAAA,WAAW,GAAE;AACZ,UAAM,IAAN;AAEA,SAAKC,GAAL,GAAS,CAAT;AACA,SAAKC,YAAL,GAAkB,GAAlB;AACA,SAAKC,YAAL,GAAkB,GAAlB;AACA,SAAKC,UAAL,GAAgB,IAAE,IAAlB;AAEA,SAAKC,QAAL,GAAe,CAAf;AACA,SAAKC,OAAL,GAAa,CAAb;AACA;;AAEDC,EAAAA,MAAM,CAACC,MAAD,EAAQC,SAAR,EAAkB;AACvB,UAAMC,IAAI,GAACC,IAAI,CAACC,GAAL,CAASJ,MAAM,CAACK,GAAP,CAAWC,CAApB,CAAX;;AACA,QAAI,KAAKb,GAAL,KAAW,CAAf,EAAiB;AAChBO,MAAAA,MAAM,CAACK,GAAP,CAAWC,CAAX,IAAc,KAAKZ,YAAL,GAAkB,KAAKD,GAAvB,GAA2BQ,SAAzC;;AAEA,UAAID,MAAM,CAACO,IAAX,EAAgB;AACf,YAAIP,MAAM,CAACO,IAAP,CAAYC,OAAZ,KAAsB,KAA1B,EAAgC;AAC/B,eAAKV,OAAL,GAAa,KAAKL,GAAlB;AACA;AACD,OAJD,MAIM;AACN,aAAKK,OAAL,GAAa,KAAKL,GAAlB;AACC;AACD,KAVD,MAUO,IAAIO,MAAM,CAACK,GAAP,CAAWC,CAAX,KAAe,CAAnB,EAAqB;AAC3B,YAAMG,KAAK,GAACN,IAAI,CAACO,GAAL,CAASR,IAAT,EAAc,KAAKP,YAAL,GAAkBM,SAAhC,CAAZ;AACAD,MAAAA,MAAM,CAACK,GAAP,CAAWC,CAAX,IAAcN,MAAM,CAACK,GAAP,CAAWC,CAAX,GAAa,CAAb,GAAiB,CAACG,KAAlB,GAAwBA,KAAtC;AACA,KAHM,MAIF;AACJ,WAAKZ,QAAL,GAAc,CAAd;AACA;;AAED,UAAMc,IAAI,GAAC,KAAKf,UAAL,GAAgBI,MAAM,CAACK,GAAP,CAAWC,CAA3B,GAA6BJ,IAAxC;AACAF,IAAAA,MAAM,CAACK,GAAP,CAAWC,CAAX,IAAcK,IAAd;AAEA,SAAKd,QAAL,IAAeK,IAAI,GAAED,SAArB;AACA;;AArCmC","sourcesContent":["import {Trait} from '../Entity.js';\r\n\r\nexport default class Go extends Trait{\r\n\tconstructor(){\r\n\t\tsuper('go');\r\n\r\n\t\tthis.dir=0;\r\n\t\tthis.acceleration=400;\r\n\t\tthis.deceleration=300;\r\n\t\tthis.dragFactor=1/5000;\r\n\r\n\t\tthis.distance =0;\r\n\t\tthis.heading=1;\r\n\t}\r\n\r\n\tupdate(entity,deltaTime){\r\n\t\tconst absX=Math.abs(entity.vel.x);\r\n\t\tif (this.dir!==0){\r\n\t\t\tentity.vel.x+=this.acceleration*this.dir*deltaTime;\r\n\r\n\t\t\tif (entity.jump){\r\n\t\t\t\tif (entity.jump.falling===false){\r\n\t\t\t\t\tthis.heading=this.dir;\r\n\t\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tthis.heading=this.dir;\r\n\t\t\t}\r\n\t\t} else if (entity.vel.x!==0){\r\n\t\t\tconst decel=Math.min(absX,this.deceleration*deltaTime);\r\n\t\t\tentity.vel.x+=entity.vel.x>0 ? -decel:decel;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.distance=0;\r\n\t\t}\r\n\r\n\t\tconst drag=this.dragFactor*entity.vel.x*absX;\r\n\t\tentity.vel.x-=drag;\r\n\r\n\t\tthis.distance+=absX*(deltaTime);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}