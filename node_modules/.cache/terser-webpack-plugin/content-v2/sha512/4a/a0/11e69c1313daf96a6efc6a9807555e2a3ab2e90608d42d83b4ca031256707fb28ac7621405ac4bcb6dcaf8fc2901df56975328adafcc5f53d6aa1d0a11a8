{"code":"(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},33:function(e,t,n){},44:function(e,t,n){\"use strict\";n.r(t);var i=n(1),a=n.n(i),r=n(25),s=n.n(r),c=(n(33),n(16)),o=n(4),u=n(28),h=n(9),l=n(15),d=n.n(l),f=n(11),v=n(2),p=n(3),j=function(){function e(){Object(v.a)(this,e),this.layers=[]}return Object(p.a)(e,[{key:\"draw\",value:function(e,t){this.layers.forEach((function(n){n(e,t)}))}}]),e}(),x=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;Object(v.a)(this,e),this.matrix=t,this.tileSize=n}return Object(p.a)(e,[{key:\"toIndex\",value:function(e){return Math.floor(e/this.tileSize)}},{key:\"toIndexRange\",value:function(e,t){var n=Math.ceil(t/this.tileSize)*this.tileSize,i=[],a=e;do{i.push(this.toIndex(a)),a+=this.tileSize}while(a<n);return i}},{key:\"getByIndex\",value:function(e,t){var n=this.matrix.get(e,t);if(n){var i=e*this.tileSize,a=i+this.tileSize,r=t*this.tileSize;return{tile:n,x1:i,x2:a,y1:r,y2:r+this.tileSize}}}},{key:\"searchByPosition\",value:function(e,t){return this.getByIndex(this.toIndex(e),this.toIndex(t))}},{key:\"searchByRange\",value:function(e,t,n,i){var a=this,r=[];return this.toIndexRange(e,t).forEach((function(e){a.toIndexRange(n,i).forEach((function(t){var n=a.getByIndex(e,t);n&&r.push(n)}))})),r}}]),e}(),y=function(){function e(){Object(v.a)(this,e),this.grid=[]}return Object(p.a)(e,[{key:\"forEach\",value:function(e){this.grid.forEach((function(t,n){t.forEach((function(t,i){e(t,n,i)}))}))}},{key:\"get\",value:function(e,t){var n=this.grid[e];if(n)return n[t]}},{key:\"set\",value:function(e,t,n){this.grid[e]||(this.grid[e]=[]),this.grid[e][t]=n}}]),e}(),g=function(){function e(t,n){Object(v.a)(this,e),this.set(t,n)}return Object(p.a)(e,[{key:\"set\",value:function(e,t){this.x=e,this.y=t}}]),e}(),b={TOP:Symbol(\"top\"),BOTTOM:Symbol(\"bottom\")},m=function(){function e(t){Object(v.a)(this,e),this.NAME=t}return Object(p.a)(e,[{key:\"obstruct\",value:function(){}},{key:\"update\",value:function(){console.warn(\"Unhandled update call in Trait\")}}]),e}(),w=function(){function e(){Object(v.a)(this,e),this.pos=new g(0,0),this.vel=new g(0,0),this.size=new g(0,0),this.traits=[]}return Object(p.a)(e,[{key:\"addTrait\",value:function(e){this.traits.push(e),this[e.NAME]=e}},{key:\"obstruct\",value:function(e){var t=this;this.traits.forEach((function(n){n.obstruct(t,e)}))}},{key:\"update\",value:function(e){var t=this;this.traits.forEach((function(n){n.update(t,e)}))}}]),e}(),O=function(){function e(t){Object(v.a)(this,e),this.tiles=new x(t)}return Object(p.a)(e,[{key:\"checkX\",value:function(e){if(e.vel.x>0)e.pos.x+e.size.x;else{if(!(e.vel.x<0))return;e.pos.x}this.tiles.searchByRange(e.pos.x,e.pos.x+e.size.x,e.pos.y,e.pos.y+e.size.y).forEach((function(t){\"ground\"===t.tile.type&&(e.vel.x>0?e.pos.x+e.size.x>t.x1&&(e.pos.x=t.x1-e.size.x,e.vel.x=0):e.vel.x<0&&e.pos.x<t.x2&&(e.pos.x=t.x2,e.vel.x=0))}))}},{key:\"checkY\",value:function(e){if(e.vel.y>0)e.pos.y+e.size.y;else{if(!(e.vel.y<0))return;e.pos.y}this.tiles.searchByRange(e.pos.x,e.pos.x+e.size.x,e.pos.y,e.pos.y+e.size.y).forEach((function(t){\"ground\"===t.tile.type&&(e.vel.y>0?e.pos.y+e.size.y>t.y1&&(e.pos.y=t.y1-e.size.y,e.vel.y=0,e.obstruct(b.BOTTOM)):e.vel.y<0&&e.pos.y<t.y2&&(e.pos.y=t.y2,e.vel.y=0,e.obstruct(b.TOP)))}))}},{key:\"test\",value:function(e){this.checkY(e)}}]),e}(),k=function(){function e(){Object(v.a)(this,e),this.gravity=1e3,this.totalTime=0,this.comp=new j,this.entities=new Set,this.tileCollider=null}return Object(p.a)(e,[{key:\"setCollisionGrid\",value:function(e){this.tileCollider=new O(e)}},{key:\"update\",value:function(e){var t=this;this.entities.forEach((function(n){n.update(e),n.pos.x+=n.vel.x*e,t.tileCollider.checkX(n),n.pos.y+=n.vel.y*e,t.tileCollider.checkY(n),n.vel.y+=t.gravity*e,t.tileCollider.test(n)})),this.totalTime+=e}}]),e}();var T=n(27),z=function(){function e(t,n,i){Object(v.a)(this,e),this.image=t,this.width=n,this.height=i,this.tiles=new Map,this.animation=new Map}return Object(p.a)(e,[{key:\"defineAnim\",value:function(e,t){this.animation.set(e,t)}},{key:\"define\",value:function(e,t,n,i,a){var r=this,s=[!1,!0].map((function(e){var s=document.createElement(\"canvas\");s.width=i,s.height=a;var c=s.getContext(\"2d\");return e&&(c.scale(-1,1),c.translate(-i,0)),c.drawImage(r.image,t,n,i,a,0,0,i,a),s}));this.tiles.set(e,s)}},{key:\"defineTile\",value:function(e,t,n){this.define(e,t*this.width,n*this.height,this.width,this.height)}},{key:\"draw\",value:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this.tiles.get(e)[a?1:0];t.drawImage(r,n,i)}},{key:\"drawAnim\",value:function(e,t,n,i,a){var r=this.animation.get(e);this.drawtile(r(a),t,n,i)}},{key:\"drawtile\",value:function(e,t,n,i){this.draw(e,t,n*this.width,i*this.height)}}]),e}();function E(e,t){return function(n){var i=Math.floor(n/t)%e.length;return e[i]}}function M(e){return fetch(e).then((function(e){return e.json()}))}function S(e){return M(\"./sprites/\".concat(e,\".json\")).then((function(e){return Promise.all([e,(t=e.imageURL,new Promise((function(e){var n=new Image;n.addEventListener(\"load\",(function(){e(n)})),n.src=t})))]);var t})).then((function(e){var t=Object(h.a)(e,2),n=t[0],i=t[1],a=new z(i,n.tileW,n.tileH);return n.tiles&&n.tiles.forEach((function(e){a.defineTile(e.name,e.index[0],e.index[1])})),n.frames&&n.frames.forEach((function(e){a.define.apply(a,[e.name].concat(Object(T.a)(e.rect)))})),n.animations&&n.animations.forEach((function(e){var t=E(e.frames,e.frameLen);a.defineAnim(e.name,t)})),a}))}var I=d.a.mark(N),B=d.a.mark(R);function P(e){return M(\"./levels/\".concat(e,\".json\")).then((function(e){return Promise.all([e,S(e.spriteSheet)])})).then((function(e){var t=Object(h.a)(e,2),n=t[0],i=t[1],a=new k,r=function(e,t){var n,i=new y,a=Object(f.a)(A(e,t));try{for(a.s();!(n=a.n()).done;){var r=n.value,s=r.tile,c=r.x,o=r.y;i.set(c,o,{type:s.type})}}catch(u){a.e(u)}finally{a.f()}return i}(n.layers.reduce((function(e,t){return e.concat(t.tiles)}),[]),n.patterns);a.setCollisionGrid(r),n.layers.forEach((function(e){var t=function(e,t){var n,i=new y,a=Object(f.a)(A(e,t));try{for(a.s();!(n=a.n()).done;){var r=n.value,s=r.tile,c=r.x,o=r.y;i.set(c,o,{name:s.name})}}catch(u){a.e(u)}finally{a.f()}return i}(e.tiles,n.patterns),r=function(e,t,n){var i=new x(t),a=document.createElement(\"canvas\");a.width=550,a.height=640;var r=a.getContext(\"2d\");function s(i,s){r.clearRect(0,0,a.width,a.height);for(var c=function(a){var s=t.grid[a];s&&s.forEach((function(t,s){n.animation.has(t.name)?n.drawAnim(t.name,r,a-i,s,e.totalTime):n.drawtile(t.name,r,a-i,s)}))},o=i;o<=s;++o)c(o)}return function(e,t){var n=i.toIndex(t.size.x),r=i.toIndex(t.pos.x);s(r,r+n),e.drawImage(a,-t.pos.x%16,-t.pos.y)}}(a,t,i);a.comp.layers.push(r)}));var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,i=document.createElement(\"canvas\");i.width=t,i.height=n;var a=i.getContext(\"2d\");return function(r,s){e.forEach((function(e){a.clearRect(0,0,t,n),e.draw(a),r.drawImage(i,e.pos.x-s.pos.x,e.pos.y-s.pos.y)}))}}(a.entities);return a.comp.layers.push(s),a}))}function N(e,t,n,i){var a,r,s,c;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:a=e+t,r=n+i,s=e;case 3:if(!(s<a)){o.next=14;break}c=n;case 5:if(!(c<r)){o.next=11;break}return o.next=8,{x:s,y:c};case 8:++c,o.next=5;break;case 11:++s,o.next=3;break;case 14:case\"end\":return o.stop()}}),I)}function C(e){if(4===e.length){var t=Object(h.a)(e,4);return N(t[0],t[1],t[2],t[3])}if(3===e.length){var n=Object(h.a)(e,3);return N(n[0],n[1],n[2],1)}if(2===e.length){var i=Object(h.a)(e,2);return N(i[0],1,i[1],1)}}function R(e){var t,n,i,a,r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=Object(f.a)(e),c.prev=1,t.s();case 3:if((n=t.n()).done){c.next=24;break}i=n.value,a=Object(f.a)(C(i)),c.prev=6,a.s();case 8:if((r=a.n()).done){c.next=14;break}return s=r.value,c.next=12,s;case 12:c.next=8;break;case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(6),a.e(c.t0);case 19:return c.prev=19,a.f(),c.finish(19);case 22:c.next=3;break;case 24:c.next=29;break;case 26:c.prev=26,c.t1=c.catch(1),t.e(c.t1);case 29:return c.prev=29,t.f(),c.finish(29);case 32:case\"end\":return c.stop()}}),B,null,[[1,26,29,32],[6,16,19,22]])}function A(e,t){var n=[];return function e(i,a,r){var s,c=Object(f.a)(i);try{for(c.s();!(s=c.n()).done;){var o,u=s.value,h=Object(f.a)(R(u.ranges));try{for(h.s();!(o=h.n()).done;){var l=o.value,d=l.x,v=l.y,p=d+a,j=v+r;if(u.pattern)e(t[u.pattern].tiles,p,j);else n.push({tile:u,x:p,y:j})}}catch(x){h.e(x)}finally{h.f()}}}catch(x){c.e(x)}finally{c.f()}}(e,0,0),n}var _=n(18),q=n(17),F=function(e){Object(_.a)(n,e);var t=Object(q.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this,\"go\")).dir=0,e.acceleration=400,e.deceleration=300,e.dragFactor=2e-4,e.distance=0,e.heading=1,e}return Object(p.a)(n,[{key:\"update\",value:function(e,t){var n=Math.abs(e.vel.x);if(0!==this.dir)e.vel.x+=this.acceleration*this.dir*t,e.jump?!1===e.jump.falling&&(this.heading=this.dir):this.heading=this.dir;else if(0!==e.vel.x){var i=Math.min(n,this.deceleration*t);e.vel.x+=e.vel.x>0?-i:i}else this.distance=0;var a=this.dragFactor*e.vel.x*n;e.vel.x-=a,this.distance+=n*t}}]),n}(m),L=function(e){Object(_.a)(n,e);var t=Object(q.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this,\"jump\")).ready=0,e.duration=.5,e.velocity=200,e.engageTime=0,e.requestTime=0,e.gracePeriod=.1,e.speedBoost=.1,e}return Object(p.a)(n,[{key:\"falling\",get:function(){return this.ready<0}},{key:\"start\",value:function(){this.requestTime=this.gracePeriod}},{key:\"cancel\",value:function(){this.engageTime=0,this.requestTime=0}},{key:\"obstruct\",value:function(e,t){t===b.BOTTOM?this.ready=1:t===b.TOP&&this.cancel()}},{key:\"update\",value:function(e,t){this.requestTime>0&&(this.ready>0&&(this.engageTime=.3,this.requestTime=0),this.requestTime-=t),this.engageTime>0&&(e.vel.y=-this.velocity+Math.abs(e.vel.x)*this.speedBoost,this.engageTime-=t),this.ready--}}]),n}(m);function G(){return S(\"mario\").then((function(e){var t=new w;t.size.set(50,50),t.addTrait(new F),t.addTrait(new L);var n=E([\"run-1\",\"run-2\"],15);return t.draw=function(i){e.draw(function(e){return e.jump.falling?\"jump\":0!==e.go.dir?e.vel.x>0&&e.go.dir<0||e.vel.x<0&&e.go.dir>0?\"break\":n(e.go.distance):\"player\"}(t),i,0,0,this.go.heading<0)},t}))}var U=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/60;Object(v.a)(this,e);var i=0,a=0;this.updateProxy=function(e){for((i+=(e-a)/1e3)>1&&(i=1);i>n;)t.update(n),i-=n;a=e,t.enqueue()}}return Object(p.a)(e,[{key:\"enqueue\",value:function(){requestAnimationFrame(this.updateProxy)}},{key:\"start\",value:function(){this.enqueue()}}]),e}(),Y=function(){function e(){Object(v.a)(this,e),this.keyStates=new Map,this.keyMap=new Map}return Object(p.a)(e,[{key:\"addMapping\",value:function(e,t){this.keyMap.set(e,t)}},{key:\"handleEvent\",value:function(e){var t=e.code;if(this.keyMap.has(t)){e.preventDefault();var n=\"keydown\"===e.type?1:0;this.keyStates.get(t)!==n&&(this.keyStates.set(t,n),this.keyMap.get(t)(n))}}},{key:\"listenTo\",value:function(e){var t=this;[\"keydown\",\"keyup\"].forEach((function(n){e.addEventListener(n,(function(e){t.handleEvent(e)}))}))}}]),e}();var J=function e(){Object(v.a)(this,e),this.pos=new g(0,0),this.size=new g(500,320)};n(23);var D=n(0),H=function(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=t.current;console.log(e);var n=e.getContext(\"2d\");n.canvas.width=500,n.canvas.height=320,Promise.all([G(),P(\"1-1\"),S(\"text\").then((function(e){var t=new w;return t.size.set(200,100),t.draw=function(t){e.draw(\"text1\",t,0,0)},t})),S(\"text\").then((function(e){var t=new w;return t.size.set(200,70),t.draw=function(t){e.draw(\"text2\",t,0,0)},t})),S(\"text\").then((function(e){var t=new w;return t.size.set(200,80),t.draw=function(t){e.draw(\"text3\",t,0,0)},t})),S(\"text\").then((function(e){var t=new w;return t.size.set(200,55),t.draw=function(t){e.draw(\"text4\",t,0,0)},t})),S(\"text\").then((function(e){var t=new w;return t.size.set(0,20),t.draw=function(t){e.draw(\"text5\",t,0,0)},t})),S(\"text\").then((function(e){var t=new w;return t.size.set(150,20),t.draw=function(t){e.draw(\"text6\",t,0,0)},t})),S(\"text\").then((function(e){var t=new w;return t.size.set(200,150),t.draw=function(t){e.draw(\"text7\",t,0,0)},t})),S(\"text\").then((function(e){var t=new w;return t.size.set(200,90),t.draw=function(t){e.draw(\"text8\",t,0,0)},t})),S(\"text\").then((function(e){var t=new w;return t.size.set(200,150),t.draw=function(t){e.draw(\"text9\",t,0,0)},t})),S(\"text\").then((function(e){var t=new w;return t.size.set(200,150),t.draw=function(t){e.draw(\"text10\",t,0,0)},t}))]).then((function(e){var t=Object(h.a)(e,12),i=t[0],a=t[1],r=t[2],s=t[3],c=t[4],o=t[5],u=t[6],l=t[7],d=t[8],f=t[9],v=t[10],p=t[11],j=new J;window.camera=j,i.pos.set(50,90),r.pos.set(50,90),s.pos.set(50,90),c.pos.set(500,80),o.pos.set(500,80),u.pos.set(720,80),l.pos.set(880,40),d.pos.set(1280,80),f.pos.set(1280,80),v.pos.set(1800,80),p.pos.set(2400,80),a.entities.add(i),a.entities.add(r),a.entities.add(s),a.entities.add(c),a.entities.add(o),a.entities.add(u),a.entities.add(l),a.entities.add(d),a.entities.add(f),a.entities.add(v),a.entities.add(p),function(e){var t=new Y;return t.addMapping(\"Space\",(function(t){t?e.jump.start():e.jump.cancel()})),t.addMapping(\"ArrowRight\",(function(t){e.go.dir+=t?1:-1})),t.addMapping(\"ArrowLeft\",(function(t){e.go.dir+=t?-1:1})),t}(i).listenTo(window);var x=new U(1/60);x.update=function(e){a.comp.draw(n,j),a.update(e),i.pos.x>100&&(j.pos.x=i.pos.x-100)},x.start()}))}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(\"canvas\",Object(u.a)({className:\"canvas\",ref:t},e)),Object(D.jsx)(\"h2\",{className:\"guide\",children:\"Arrow key left & right to move! Space to jump!\"})]})};function X(){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(\"ul\",{children:Object(D.jsxs)(c.b,{to:\"/portfolio\",className:\"portfolio\",children:[Object(D.jsx)(\"span\",{children:\"Check\"}),\" \",Object(D.jsx)(\"span\",{children:\"out\"}),\" \",Object(D.jsx)(\"span\",{children:\"my\"}),\" \",Object(D.jsx)(\"span\",{children:\"projects\"}),\" \",Object(D.jsx)(\"span\",{children:\"here!\"})]})})})}n(24);var K=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(\"div\",{id:\"title\",className:\"slide header\",children:[Object(D.jsx)(\"img\",{id:\"profilepic\",src:\"/img/me.jpg\",alt:\"Cannot view? Oh you just missed my handsome face\"}),Object(D.jsx)(\"h1\",{children:\"Kai Yang\"}),Object(D.jsx)(\"div\",{className:\"table center\",children:Object(D.jsx)(\"div\",{className:\"monitor-wrapper center\",children:Object(D.jsx)(\"div\",{className:\"monitor center\",children:Object(D.jsx)(\"p\",{className:\"text1 center\",children:\"Data Enthusiast | Problem Solver | JavaScript Lover\"})})})})]}),Object(D.jsx)(\"div\",{id:\"slide1\",className:\"slide\",children:Object(D.jsxs)(\"div\",{className:\"title\",children:[Object(D.jsx)(\"h1\",{children:\"Underground Mobility Sensing Project using multi-sensory data with Machine Learning\"}),Object(D.jsx)(\"p\",{children:\"Location information about commuter activities is vital for planning for travel disruptions and infrastructural development. However, GPS connectivity is lost when underground in our MRT networks. The Mobility Sensing Project aims to find innovative and novel ways to conduct location sensing using multi-sensory data collected in smartphones.\"}),Object(D.jsxs)(\"p\",{children:[\"Visit this \",Object(D.jsx)(\"a\",{href:\"https://github.com/kaiyang7766/UndergroundMobilitySensing\",target:\"_blank\",children:\"link\"}),\" to find out more!\"]}),Object(D.jsx)(\"p\",{}),Object(D.jsx)(\"img\",{id:\"projectpic\",src:\"/img/LTA_logo.png\"})]})}),Object(D.jsxs)(\"div\",{id:\"slide2\",className:\"slide\",children:[Object(D.jsxs)(\"div\",{className:\"title\",children:[Object(D.jsx)(\"h1\",{children:\"Breadtalk Traceability Online System\"}),Object(D.jsx)(\"p\",{children:\"Food Traceability System has always been a core in Food Safety measurements. In order to facilitate efficient tracking of raw materials back in my internship at BreadTalk, I created an online system using React.js for the production team to record down the daily usage of materials on the comfort of their phones.\"}),Object(D.jsx)(\"p\",{children:Object(D.jsx)(\"a\",{href:\"https://github.com/kaiyang7766/breadtalkmockapp\",target:\"_blank\",children:\"Github code repository\"})}),Object(D.jsx)(\"p\",{children:Object(D.jsx)(\"a\",{href:\"https://focused-ardinghelli-c3b960.netlify.app/\",target:\"_blank\",children:\"Mock application interface (Only Traceability System is working)\"})})]}),Object(D.jsx)(\"img\",{id:\"projectpic\",src:\"/img/Breadtalk_logo.jpg\"})]}),Object(D.jsxs)(\"div\",{id:\"slide4\",className:\"slide header\",children:[Object(D.jsx)(\"h1\",{children:\"Connect with me!\"}),Object(D.jsx)(\"a\",{href:\"https://github.com/kaiyang7766\",target:\"_blank\",children:Object(D.jsx)(\"img\",{id:\"connectpic\",src:\"/img/Github_logo_white.png\"})}),Object(D.jsx)(\"a\",{href:\"https://www.linkedin.com/in/ang-kai-yang/\",target:\"_blank\",children:Object(D.jsx)(\"img\",{id:\"connectpic\",src:\"/img/LinkedIn_logo_white.png\"})})]})]})},V=function(){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(c.a,{children:Object(D.jsxs)(o.c,{children:[Object(D.jsxs)(o.a,{exact:!0,path:\"/\",children:[Object(D.jsx)(H,{}),Object(D.jsx)(X,{})]}),Object(D.jsx)(o.a,{exact:!0,path:\"/portfolio\",children:Object(D.jsx)(K,{})})]})})})};var W=function(){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(V,{})})};s.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(W,{})}),document.getElementById(\"root\"))}},[[44,1,2]]]);","name":"static/js/main.4f5d7354.chunk.js","map":{"version":3,"sources":["static/js/main.4f5d7354.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","objectSpread2","slicedToArray","regenerator","regenerator_default","createForOfIteratorHelper","classCallCheck","createClass","Compositor_Compositor","Compositor","Object","layers","key","value","context","camera","forEach","layer","TileResolver_TileResolver","TileResolver","matrix","tileSize","arguments","length","undefined","pos","Math","floor","pos1","pos2","pMax","ceil","range","toIndex","indexX","indexY","tile","get","x1","x2","y1","y2","posX","posY","getByIndex","_this","matches","toIndexRange","match","math_Matrix","Matrix","grid","callback","column","x","y","col","math_Vec2","Vec2","set","Sides","TOP","Symbol","BOTTOM","Entity_Trait","Trait","name","NAME","console","warn","Entity_Entity","Entity","vel","size","traits","trait","side","obstruct","deltaTime","_this2","update","TileCollider_TileCollider","TileCollider","tileMatrix","tiles","entity","searchByRange","type","checkY","Level_Level","Level","gravity","totalTime","comp","entities","Set","tileCollider","checkX","test","toConsumableArray","SpriteSheet_SpriteSheet","SpriteSheet","image","width","height","Map","animation","buffers","map","flip","buffer","document","createElement","getContext","scale","translate","drawImage","define","distance","drawtile","draw","createAnim","frames","frameLen","frameIndex","loadJSON","url","fetch","then","json","loadSpriteSheet","concat","sheetSpec","Promise","all","imageURL","resolve","Image","addEventListener","src","_ref","_ref2","sprites","tileW","tileH","tileSpec","defineTile","index","frameSpec","apply","rect","animations","animSpec","defineAnim","_marked","a","mark","expandSpan","_marked2","expandRanges","loadLevel","levelSpec","spriteSheet","level","collisionGrid","patterns","_step","_iterator","expandTiles","s","done","_step$value","err","e","f","createCollisionGrid","reduce","mergedTiles","layerSpec","setCollisionGrid","backgroundGrid","_step2","_iterator2","_step2$value","createBackgroundGrid","backgroundLayer","resolver","redraw","startIndex","endIndex","clearRect","_loop","has","drawAnim","drawWidth","drawFrom","createBackgroundLayer","spriteLayer","spriteBuffer","spriteBufferContext","createSpriteLayer","xStart","xLen","yStart","yLen","xEnd","yEnd","wrap","_context","prev","next","stop","expandRange","_range","_range2","_range3","ranges","_iterator3","_step3","_iterator4","_step4","item","_context2","t0","finish","t1","expandedTiles","walkTiles","offsetX","offsetY","_step5","_iterator5","_step6","_iterator6","_step6$value","derivedX","derivedY","pattern","inherits","createSuper","Go_Go","_Trait","Go","_super","call","dir","acceleration","deceleration","dragFactor","heading","absX","abs","jump","falling","decel","min","drag","Jump_Jump","Jump","ready","duration","velocity","engageTime","requestTime","gracePeriod","speedBoost","cancel","createMario","sprite","mario","addTrait","runAim","go","routeFrame","Timer_Timer","Timer","accumulatedTime","lastTime","updateProxy","time","enqueue","requestAnimationFrame","KeyboardState_KeyboardState","KeyboardState","keyStates","keyMap","code","event","preventDefault","keyState","window","eventName","handleEvent","Camera_Camera","Camera","jsx_runtime","js_Canvas","props","canvasRef","canvas","current","log","text","text1","text2","text3","text4","text5","text6","text7","text8","text9","text10","add","input","addMapping","start","setupKeyboard","listenTo","timer","children","className","ref","Navbar","to","src_Portfolio","id","alt","href","target","js","exact","path","src_App","render","StrictMode","getElementById"],"mappings":"CAACA,KAA4B,sBAAIA,KAA4B,uBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAE1E,GACA,SAAUC,EAAQC,EAASC,KAM3B,GACA,SAAUF,EAAQC,EAASC,KAM3B,GACA,SAAUF,EAAQC,EAASC,KAM3B,GACA,SAAUF,EAAQG,EAAqBD,GAE7C,aAEAA,EAAoBE,EAAED,GAGtB,IAAIE,EAAQH,EAAoB,GAC5BI,EAA6BJ,EAAoBK,EAAEF,GAGnDG,EAAYN,EAAoB,IAChCO,EAAiCP,EAAoBK,EAAEC,GAMvDE,GAHMR,EAAoB,IAGPA,EAAoB,KAGvCS,EAAeT,EAAoB,GAGnCU,EAAgBV,EAAoB,IAGpCW,EAAgBX,EAAoB,GAGpCY,EAAcZ,EAAoB,IAClCa,EAAmCb,EAAoBK,EAAEO,GAGzDE,EAA4Bd,EAAoB,IAGhDe,EAAiBf,EAAoB,GAGrCgB,EAAchB,EAAoB,GAGlCiB,EAAmC,WAAW,SAASC,IAAaC,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAKsB,GAAYtB,KAAKwB,OAAO,GAAyK,OAArKD,OAAOH,EAA6B,EAApCG,CAAuCD,EAAW,CAAC,CAACG,IAAI,OAAOC,MAAM,SAAcC,EAAQC,GAAQ5B,KAAKwB,OAAOK,SAAQ,SAASC,GAAOA,EAAMH,EAAQC,UAAuBN,EAAxR,GAEnCS,EAAuC,WAAW,SAASC,EAAaC,GAAQ,IAAIC,EAASC,UAAUC,OAAO,QAAkBC,IAAfF,UAAU,GAAeA,UAAU,GAAG,GAAGZ,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAKgC,GAAchC,KAAKiC,OAAOA,EAAOjC,KAAKkC,SAASA,EAA4hC,OAAlhCX,OAAOH,EAA6B,EAApCG,CAAuCS,EAAa,CAAC,CAACP,IAAI,UAAUC,MAAM,SAAiBY,GAAK,OAAOC,KAAKC,MAAMF,EAAItC,KAAKkC,YAAa,CAACT,IAAI,eAAeC,MAAM,SAAsBe,EAAKC,GAAM,IAAIC,EAAKJ,KAAKK,KAAKF,EAAK1C,KAAKkC,UAAUlC,KAAKkC,SAAaW,EAAM,GAAOP,EAAIG,EAAK,GAAGI,EAAM5C,KAAKD,KAAK8C,QAAQR,IAAMA,GAAKtC,KAAKkC,eAAgBI,EAAIK,GAAM,OAAOE,IAAS,CAACpB,IAAI,aAAaC,MAAM,SAAoBqB,EAAOC,GAAQ,IAAIC,EAAKjD,KAAKiC,OAAOiB,IAAIH,EAAOC,GAAQ,GAAGC,EAAK,CAAC,IAAIE,EAAGJ,EAAO/C,KAAKkC,SAAakB,EAAGD,EAAGnD,KAAKkC,SAAamB,EAAGL,EAAOhD,KAAKkC,SAAiC,MAAM,CAACe,KAAKA,EAAKE,GAAGA,EAAGC,GAAGA,EAAGC,GAAGA,EAAGC,GAApDD,EAAGrD,KAAKkC,aAAuD,CAACT,IAAI,mBAAmBC,MAAM,SAA0B6B,EAAKC,GAAM,OAAOxD,KAAKyD,WAAWzD,KAAK8C,QAAQS,GAAMvD,KAAK8C,QAAQU,MAAU,CAAC/B,IAAI,gBAAgBC,MAAM,SAAuByB,EAAGC,EAAGC,EAAGC,GAAI,IAAII,EAAM1D,KAAS2D,EAAQ,GAAuL,OAApL3D,KAAK4D,aAAaT,EAAGC,GAAIvB,SAAQ,SAASkB,GAAQW,EAAME,aAAaP,EAAGC,GAAIzB,SAAQ,SAASmB,GAAQ,IAAIa,EAAMH,EAAMD,WAAWV,EAAOC,GAAWa,GAAOF,EAAQ1D,KAAK4D,SAAqBF,MAAoB3B,EAApvC,GAEvC8B,EAAyB,WAAW,SAASC,IAASxC,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAK+D,GAAQ/D,KAAKgE,KAAK,GAAgZ,OAA5YzC,OAAOH,EAA6B,EAApCG,CAAuCwC,EAAO,CAAC,CAACtC,IAAI,UAAUC,MAAM,SAAiBuC,GAAUjE,KAAKgE,KAAKnC,SAAQ,SAASqC,EAAOC,GAAGD,EAAOrC,SAAQ,SAASH,EAAM0C,GAAGH,EAASvC,EAAMyC,EAAEC,WAAY,CAAC3C,IAAI,MAAMC,MAAM,SAAayC,EAAEC,GAAG,IAAIC,EAAIrE,KAAKgE,KAAKG,GAAG,GAAGE,EAAK,OAAOA,EAAID,KAAwB,CAAC3C,IAAI,MAAMC,MAAM,SAAayC,EAAEC,EAAE1C,GAAW1B,KAAKgE,KAAKG,KAAInE,KAAKgE,KAAKG,GAAG,IAAInE,KAAKgE,KAAKG,GAAGC,GAAG1C,MAAkBqC,EAArf,GAAogBO,EAAuB,WAAW,SAASC,EAAKJ,EAAEC,GAAG7C,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAKuE,GAAMvE,KAAKwE,IAAIL,EAAEC,GAA2G,OAAvG7C,OAAOH,EAA6B,EAApCG,CAAuCgD,EAAK,CAAC,CAAC9C,IAAI,MAAMC,MAAM,SAAayC,EAAEC,GAAGpE,KAAKmE,EAAEA,EAAEnE,KAAKoE,EAAEA,MAAcG,EAAhN,GAEpjBE,EAAM,CAACC,IAAIC,OAAO,OAAOC,OAAOD,OAAO,WAAeE,EAA0B,WAAW,SAASC,EAAMC,GAAMxD,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAK8E,GAAO9E,KAAKgF,KAAKD,EAA2L,OAArLxD,OAAOH,EAA6B,EAApCG,CAAuCuD,EAAM,CAAC,CAACrD,IAAI,WAAWC,MAAM,cAAuB,CAACD,IAAI,SAASC,MAAM,WAAkBuD,QAAQC,KAAK,sCAA8CJ,EAAlS,GAAgTK,EAA2B,WAAW,SAASC,IAAS7D,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAKoF,GAAQpF,KAAKsC,IAAI,IAAIgC,EAAU,EAAE,GAAGtE,KAAKqF,IAAI,IAAIf,EAAU,EAAE,GAAGtE,KAAKsF,KAAK,IAAIhB,EAAU,EAAE,GAAGtE,KAAKuF,OAAO,GAAga,OAA5ZhE,OAAOH,EAA6B,EAApCG,CAAuC6D,EAAO,CAAC,CAAC3D,IAAI,WAAWC,MAAM,SAAkB8D,GAAOxF,KAAKuF,OAAOtF,KAAKuF,GAAOxF,KAAKwF,EAAMR,MAAMQ,IAAS,CAAC/D,IAAI,WAAWC,MAAM,SAAkB+D,GAAM,IAAI/B,EAAM1D,KAAKA,KAAKuF,OAAO1D,SAAQ,SAAS2D,GAAOA,EAAME,SAAShC,EAAM+B,QAAY,CAAChE,IAAI,SAASC,MAAM,SAAgBiE,GAAW,IAAIC,EAAO5F,KAAKA,KAAKuF,OAAO1D,SAAQ,SAAS2D,GAAOA,EAAMK,OAAOD,EAAOD,UAA0BP,EAA5lB,GAE3ZU,EAAuC,WAAW,SAASC,EAAaC,GAAYzE,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAK+F,GAAc/F,KAAKiG,MAAM,IAAIlE,EAA0BiE,GAGzL,OAHsMzE,OAAOH,EAA6B,EAApCG,CAAuCwE,EAAa,CAAC,CAACtE,IAAI,SAASC,MAAM,SAAgBwE,GAAc,GAAGA,EAAOb,IAAIlB,EAAE,EAAK+B,EAAO5D,IAAI6B,EAAE+B,EAAOZ,KAAKnB,MAAQ,CAAA,KAAG+B,EAAOb,IAAIlB,EAAE,GAAwB,OAAnB+B,EAAO5D,IAAI6B,EAA4BnE,KAAKiG,MAAME,cAAcD,EAAO5D,IAAI6B,EAAE+B,EAAO5D,IAAI6B,EAAE+B,EAAOZ,KAAKnB,EAAE+B,EAAO5D,IAAI8B,EAAE8B,EAAO5D,IAAI8B,EAAE8B,EAAOZ,KAAKlB,GAAWvC,SAAQ,SAASgC,GAA4B,WAAlBA,EAAMZ,KAAKmD,OAA4BF,EAAOb,IAAIlB,EAAE,EAAM+B,EAAO5D,IAAI6B,EAAE+B,EAAOZ,KAAKnB,EAAEN,EAAMV,KAAI+C,EAAO5D,IAAI6B,EAAEN,EAAMV,GAAG+C,EAAOZ,KAAKnB,EAAE+B,EAAOb,IAAIlB,EAAE,GAAY+B,EAAOb,IAAIlB,EAAE,GAAM+B,EAAO5D,IAAI6B,EAAEN,EAAMT,KAAI8C,EAAO5D,IAAI6B,EAAEN,EAAMT,GAAG8C,EAAOb,IAAIlB,EAAE,SAAU,CAAC1C,IAAI,SAASC,MAAM,SAAgBwE,GAAc,GAAGA,EAAOb,IAAIjB,EAAE,EAAK8B,EAAO5D,IAAI8B,EAAE8B,EAAOZ,KAAKlB,MAAQ,CAAA,KAAG8B,EAAOb,IAAIjB,EAAE,GAAwB,OAAnB8B,EAAO5D,IAAI8B,EAA4BpE,KAAKiG,MAAME,cAAcD,EAAO5D,IAAI6B,EAAE+B,EAAO5D,IAAI6B,EAAE+B,EAAOZ,KAAKnB,EAAE+B,EAAO5D,IAAI8B,EAAE8B,EAAO5D,IAAI8B,EAAE8B,EAAOZ,KAAKlB,GAAWvC,SAAQ,SAASgC,GAA4B,WAAlBA,EAAMZ,KAAKmD,OAA4BF,EAAOb,IAAIjB,EAAE,EAAM8B,EAAO5D,IAAI8B,EAAE8B,EAAOZ,KAAKlB,EAAEP,EAAMR,KAAI6C,EAAO5D,IAAI8B,EAAEP,EAAMR,GAAG6C,EAAOZ,KAAKlB,EAAE8B,EAAOb,IAAIjB,EAAE,EAAE8B,EAAOR,SAASjB,EAAMG,SAAkBsB,EAAOb,IAAIjB,EAAE,GAAM8B,EAAO5D,IAAI8B,EAAEP,EAAMP,KAAI4C,EAAO5D,IAAI8B,EAAEP,EAAMP,GAAG4C,EAAOb,IAAIjB,EAAE,EAAE8B,EAAOR,SAASjB,EAAMC,YAAa,CAACjD,IAAI,OAAOC,MAAM,SAAcwE,GAAQlG,KAAKqG,OAAOH,OAGz6CH,EAH+B,GAKvCO,EAAyB,WAAW,SAASC,IAAQhF,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAKuG,GAAOvG,KAAKwG,QAAQ,IAAKxG,KAAKyG,UAAU,EAAEzG,KAAK0G,KAAK,IAAIrF,EAAwBrB,KAAK2G,SAAS,IAAIC,IAAM5G,KAAK6G,aAAa,KAChM,OADsMtF,OAAOH,EAA6B,EAApCG,CAAuCgF,EAAM,CAAC,CAAC9E,IAAI,mBAAmBC,MAAM,SAA0BO,GAAQjC,KAAK6G,aAAa,IAAIf,EAA0B7D,KAAW,CAACR,IAAI,SAASC,MAAM,SAAgBiE,GAAW,IAAIjC,EAAM1D,KAAKA,KAAK2G,SAAS9E,SAAQ,SAASqE,GAAQA,EAAOL,OAAOF,GAAWO,EAAO5D,IAAI6B,GAAG+B,EAAOb,IAAIlB,EAAEwB,EAAUjC,EAAMmD,aAAaC,OAAOZ,GAAQA,EAAO5D,IAAI8B,GAAG8B,EAAOb,IAAIjB,EAAEuB,EAAUjC,EAAMmD,aAAaR,OAAOH,GAAQA,EAAOb,IAAIjB,GAAGV,EAAM8C,QAAQb,EAAUjC,EAAMmD,aAAaE,KAAKb,MACxtBlG,KAAKyG,WAAWd,MAAsBY,EADZ,GAyC7B,IAAIS,EAAoB5G,EAAoB,IAGxC6G,EAAqC,WAAW,SAASC,EAAYC,EAAMC,EAAMC,GAAQ9F,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAKkH,GAAalH,KAAKmH,MAAMA,EAAMnH,KAAKoH,MAAMA,EAAMpH,KAAKqH,OAAOA,EAAOrH,KAAKiG,MAAM,IAAIqB,IAAMtH,KAAKuH,UAAU,IAAID,IAKoZ,OAL7Y/F,OAAOH,EAA6B,EAApCG,CAAuC2F,EAAY,CAAC,CAACzF,IAAI,aAAaC,MAAM,SAAoBqD,EAAKwC,GAAWvH,KAAKuH,UAAU/C,IAAIO,EAAKwC,KAAc,CAAC9F,IAAI,SAASC,MAAM,SAAgBqD,EAAKZ,EAAEC,EAAEgD,EAAMC,GAAQ,IAAI3D,EAAM1D,KAASwH,EAAQ,EAAC,GAAM,GAAMC,KAAI,SAASC,GAAM,IAAIC,EAAOC,SAASC,cAAc,UAAUF,EAAOP,MAAMA,EAClkBO,EAAON,OAAOA,EACd,IAAI1F,EAAQgG,EAAOG,WAAW,MAGtB,OAH+BJ,IAAM/F,EAAQoG,OAAO,EAAE,GAAGpG,EAAQqG,WAAWZ,EAAM,IAAIzF,EAAQsG,UAAUvE,EAAMyD,MAAMhD,EAC5HC,EAAEgD,EAAMC,EAAO,EACf,EAAED,EACFC,GAAeM,KAAU3H,KAAKiG,MAAMzB,IAAIO,EAAKyC,KAAY,CAAC/F,IAAI,aAAaC,MAAM,SAAoBqD,EAAKZ,EAAEC,GAAGpE,KAAKkI,OAAOnD,EAAKZ,EAAEnE,KAAKoH,MAAMhD,EAAEpE,KAAKqH,OAAOrH,KAAKoH,MAAMpH,KAAKqH,UAAW,CAAC5F,IAAI,OAAOC,MAAM,SAAcqD,EAAKpD,EAAQwC,EAAEC,GAAG,IAAIsD,EAAKvF,UAAUC,OAAO,QAAkBC,IAAfF,UAAU,IAAeA,UAAU,GAAawF,EAAO3H,KAAKiG,MAAM/C,IAAI6B,GAAM2C,EAAK,EAAE,GAAG/F,EAAQsG,UAAUN,EAAOxD,EAAEC,KAAM,CAAC3C,IAAI,WAAWC,MAAM,SAAkBqD,EAAKpD,EAAQwC,EAAEC,EAAE+D,GAAU,IAAIZ,EAAUvH,KAAKuH,UAAUrE,IAAI6B,GAAM/E,KAAKoI,SAASb,EAAUY,GAAUxG,EAAQwC,EAAEC,KAAM,CAAC3C,IAAI,WAAWC,MAAM,SAAkBqD,EAAKpD,EAAQwC,EAAEC,GAAGpE,KAAKqI,KAAKtD,EAAKpD,EAAQwC,EAAEnE,KAAKoH,MAAMhD,EAAEpE,KAAKqH,YAAoBH,EALxmB,GAOzC,SAASoB,EAAWC,EAAOC,GAAU,OAAO,SAAsBL,GAAU,IAAIM,EAAWlG,KAAKC,MAAM2F,EAASK,GAAUD,EAAOnG,OAAwC,OAAnBmG,EAAOE,IAEI,SAASC,EAASC,GAAK,OAAOC,MAAMD,GAAKE,MAAK,SAASvI,GAAG,OAAOA,EAAEwI,UAAW,SAASC,EAAgBhE,GAAM,OAAO2D,EAAS,aAAaM,OAAOjE,EAAK,UAAU8D,MAAK,SAASI,GAAW,OAAOC,QAAQC,IAAI,CAACF,GAA1VN,EAA8WM,EAAUG,SAA5W,IAAIF,SAAQ,SAASG,GAAS,IAAIlC,EAAM,IAAImC,MAAQnC,EAAMoC,iBAAiB,QAAO,WAAWF,EAAQlC,MAAUA,EAAMqC,IAAIb,QAAxJ,IAAmBA,KAAuYE,MAAK,SAASY,GAAM,IAAIC,EAAMnI,OAAOR,EAA+B,EAAtCQ,CAAyCkI,EAAK,GAAGR,EAAUS,EAAM,GAAGvC,EAAMuC,EAAM,GAAOC,EAAQ,IAAI1C,EAAwBE,EAAM8B,EAAUW,MAAMX,EAAUY,OAC3F,OAArfZ,EAAUhD,OAAOgD,EAAUhD,MAAMpE,SAAQ,SAASiI,GAAUH,EAAQI,WAAWD,EAAS/E,KAAK+E,EAASE,MAAM,GAAGF,EAASE,MAAM,OAAWf,EAAUV,QAAQU,EAAUV,OAAO1G,SAAQ,SAASoI,GAAWN,EAAQzB,OAAOgC,MAAMP,EAAQ,CAACM,EAAUlF,MAAMiE,OAAOzH,OAAOyF,EAAmC,EAA1CzF,CAA6C0I,EAAUE,WAAelB,EAAUmB,YAAYnB,EAAUmB,WAAWvI,SAAQ,SAASwI,GAAU,IAAI9C,EAAUe,EAAW+B,EAAS9B,OAAO8B,EAAS7B,UAAUmB,EAAQW,WAAWD,EAAStF,KAAKwC,MAAsBoC,KAE/f,IAAIY,EAAqBtJ,EAAoBuJ,EAAEC,KAAKC,GAAYC,EAAsB1J,EAAoBuJ,EAAEC,KAAKG,GAAc,SAASC,EAAU9F,GAAM,OAAO2D,EAAS,YAAYM,OAAOjE,EAAK,UAAU8D,MAAK,SAASiC,GAAW,OAAO5B,QAAQC,IAAI,CAAC2B,EAAU/B,EAAgB+B,EAAUC,kBAAkBlC,MAAK,SAASY,GAAM,IAAIC,EAAMnI,OAAOR,EAA+B,EAAtCQ,CAAyCkI,EAAK,GAAGqB,EAAUpB,EAAM,GAAGC,EAAQD,EAAM,GAAOsB,EAAM,IAAI1E,EAA2I2E,EAAmb,SAA6BhF,EAAMiF,GAAU,IAA2HC,EAAvHnH,EAAK,IAAIF,EAAkBsH,EAAU7J,OAAOL,EAA2C,EAAlDK,CAAqD8J,EAAYpF,EAAMiF,IAAiB,IAAI,IAAIE,EAAUE,MAAMH,EAAMC,EAAU3K,KAAK8K,MAAM,CAAC,IAAIC,EAAYL,EAAMzJ,MAAMuB,EAAKuI,EAAYvI,KAAKkB,EAAEqH,EAAYrH,EAAEC,EAAEoH,EAAYpH,EAAEJ,EAAKQ,IAAIL,EAAEC,EAAE,CAACgC,KAAKnD,EAAKmD,QAAS,MAAMqF,GAAKL,EAAUM,EAAED,GAAM,QAAQL,EAAUO,IAAK,OAAO3H,EAArzB4H,CAA3Hd,EAAUtJ,OAAOqK,QAAO,SAASC,EAAYC,GAAW,OAAOD,EAAY9C,OAAO+C,EAAU9F,SAAS,IAAsD6E,EAAUI,UAAUF,EAAMgB,iBAAiBf,GAAeH,EAAUtJ,OAAOK,SAAQ,SAASC,GAAO,IAAImK,EAAorB,SAA8BhG,EAAMiF,GAAU,IAA4HgB,EAAxHlI,EAAK,IAAIF,EAAkBqI,EAAW5K,OAAOL,EAA2C,EAAlDK,CAAqD8J,EAAYpF,EAAMiF,IAAkB,IAAI,IAAIiB,EAAWb,MAAMY,EAAOC,EAAW1L,KAAK8K,MAAM,CAAC,IAAIa,EAAaF,EAAOxK,MAAMuB,EAAKmJ,EAAanJ,KAAKkB,EAAEiI,EAAajI,EAAEC,EAAEgI,EAAahI,EAAEJ,EAAKQ,IAAIL,EAAEC,EAAE,CAACW,KAAK9B,EAAK8B,QAAS,MAAM0G,GAAKU,EAAWT,EAAED,GAAM,QAAQU,EAAWR,IAAK,OAAO3H,EAAlkCqI,CAAqBvK,EAAMmE,MAAM6E,EAAUI,UAAcoB,EArDtxB,SAA+BtB,EAAM/E,EAAM0D,GAAS,IAAI4C,EAAS,IAAIxK,EAA0BkE,GAAW0B,EAAOC,SAASC,cAAc,UAAUF,EAAOP,MAAM,IAAIO,EAAON,OAAO,IAAI,IAAI1F,EAAQgG,EAAOG,WAAW,MAAM,SAAS0E,EAAOC,EAAWC,GAAU/K,EAAQgL,UAAU,EAAE,EAAEhF,EAAOP,MAAMO,EAAON,QAAuQ,IAA/P,IAAIuF,EAAM,SAAezI,GAAG,IAAIE,EAAI4B,EAAMjC,KAAKG,GAAME,GAAKA,EAAIxC,SAAQ,SAASoB,EAAKmB,GAAMuF,EAAQpC,UAAUsF,IAAI5J,EAAK8B,MAAO4E,EAAQmD,SAAS7J,EAAK8B,KAAKpD,EAAQwC,EAAEsI,EAAWrI,EAAE4G,EAAMvE,WAAiBkD,EAAQvB,SAASnF,EAAK8B,KAAKpD,EAAQwC,EAAEsI,EAAWrI,OAAkBD,EAAEsI,EAAWtI,GAAGuI,IAAWvI,EAAGyI,EAAMzI,GAAK,OAAO,SAA6BxC,EAAQC,GAAQ,IAAImL,EAAUR,EAASzJ,QAAQlB,EAAO0D,KAAKnB,GAAO6I,EAAST,EAASzJ,QAAQlB,EAAOU,IAAI6B,GAAiCqI,EAAOQ,EAA1BA,EAASD,GAClwBpL,EAAQsG,UAAUN,GAAQ/F,EAAOU,IAAI6B,EAAE,IAAIvC,EAAOU,IAAI8B,IAoDgvB6I,CAAsBjC,EAAMiB,EAAetC,GAASqB,EAAMtE,KAAKlF,OAAOvB,KAAKqM,MAAoB,IAAIY,EApD70B,SAA2BvG,GAAU,IAAIS,EAAMjF,UAAUC,OAAO,QAAkBC,IAAfF,UAAU,GAAeA,UAAU,GAAG,IAAQkF,EAAOlF,UAAUC,OAAO,QAAkBC,IAAfF,UAAU,GAAeA,UAAU,GAAG,GAAOgL,EAAavF,SAASC,cAAc,UAAUsF,EAAa/F,MAAMA,EAAM+F,EAAa9F,OAAOA,EAAO,IAAI+F,EAAoBD,EAAarF,WAAW,MAAM,OAAO,SAAyBnG,EAAQC,GAAQ+E,EAAS9E,SAAQ,SAASqE,GAAQkH,EAAoBT,UAAU,EAAE,EAAEvF,EAAMC,GAAQnB,EAAOmC,KAAK+E,GAAqBzL,EAAQsG,UAAUkF,EAAajH,EAAO5D,IAAI6B,EAAEvC,EAAOU,IAAI6B,EACvmB+B,EAAO5D,IAAI8B,EAAExC,EAAOU,IAAI8B,OAmD63BiJ,CAAkBrC,EAAMrE,UAA8C,OAApCqE,EAAMtE,KAAKlF,OAAOvB,KAAKiN,GAAoBlC,KAAm0B,SAASN,EAAW4C,EAAOC,EAAKC,EAAOC,GAAM,IAAIC,EAAKC,EAAKxJ,EAAEC,EAAE,OAAOnD,EAAoBuJ,EAAEoD,MAAK,SAAqBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAEL,EAAKJ,EAAOC,EAAKI,EAAKH,EAAOC,EAAKtJ,EAAEmJ,EAAO,KAAK,EAAE,KAAKnJ,EAAEuJ,GAAM,CAACG,EAASE,KAAK,GAAG,MAAO3J,EAAEoJ,EAAO,KAAK,EAAE,KAAKpJ,EAAEuJ,GAAM,CAACE,EAASE,KAAK,GAAG,MAAuB,OAAhBF,EAASE,KAAK,EAAQ,CAAC5J,EAAEA,EAAEC,EAAEA,GAAG,KAAK,IAAIA,EAAEyJ,EAASE,KAAK,EAAE,MAAM,KAAK,KAAK5J,EAAE0J,EAASE,KAAK,EAAE,MAAM,KAAK,GAAG,IAAI,MAAM,OAAOF,EAASG,UAAWzD,GAAU,SAAS0D,EAAYpL,GAAO,GAAkB,IAAfA,EAAMT,OAAW,CAAC,IAAI8L,EAAO3M,OAAOR,EAA+B,EAAtCQ,CAAyCsB,EAAM,GAAmE,OAAO6H,EAAhEwD,EAAO,GAAQA,EAAO,GAAUA,EAAO,GAAQA,EAAO,IAAoD,GAAkB,IAAfrL,EAAMT,OAAW,CAAC,IAAI+L,EAAQ5M,OAAOR,EAA+B,EAAtCQ,CAAyCsB,EAAM,GAA0D,OAAO6H,EAAtDyD,EAAQ,GAASA,EAAQ,GAAWA,EAAQ,GAA2C,GAAS,GAAkB,IAAftL,EAAMT,OAAW,CAAC,IAAIgM,EAAQ7M,OAAOR,EAA+B,EAAtCQ,CAAyCsB,EAAM,GAA2C,OAAO6H,EAAtC0D,EAAQ,GAAkD,EAAtCA,EAAQ,GAAyC,IAAK,SAASxD,EAAayD,GAAQ,IAAIC,EAAWC,EAAO1L,EAAM2L,EAAWC,EAAOC,EAAK,OAAOzN,EAAoBuJ,EAAEoD,MAAK,SAAuBe,GAAW,OAAS,OAAOA,EAAUb,KAAKa,EAAUZ,MAAM,KAAK,EAAEO,EAAW/M,OAAOL,EAA2C,EAAlDK,CAAqD8M,GAAQM,EAAUb,KAAK,EAAEQ,EAAWhD,IAAI,KAAK,EAAE,IAAIiD,EAAOD,EAAW7N,KAAK8K,KAAK,CAACoD,EAAUZ,KAAK,GAAG,MAAOlL,EAAM0L,EAAO7M,MAAM8M,EAAWjN,OAAOL,EAA2C,EAAlDK,CAAqD0M,EAAYpL,IAAQ8L,EAAUb,KAAK,EAAEU,EAAWlD,IAAI,KAAK,EAAE,IAAImD,EAAOD,EAAW/N,KAAK8K,KAAK,CAACoD,EAAUZ,KAAK,GAAG,MAA2C,OAApCW,EAAKD,EAAO/M,MAAMiN,EAAUZ,KAAK,GAAUW,EAAK,KAAK,GAAGC,EAAUZ,KAAK,EAAE,MAAM,KAAK,GAAGY,EAAUZ,KAAK,GAAG,MAAM,KAAK,GAAGY,EAAUb,KAAK,GAAGa,EAAUC,GAAGD,EAAiB,MAAE,GAAGH,EAAW9C,EAAEiD,EAAUC,IAAI,KAAK,GAAoC,OAAjCD,EAAUb,KAAK,GAAGU,EAAW7C,IAAWgD,EAAUE,OAAO,IAAI,KAAK,GAAGF,EAAUZ,KAAK,EAAE,MAAM,KAAK,GAAGY,EAAUZ,KAAK,GAAG,MAAM,KAAK,GAAGY,EAAUb,KAAK,GAAGa,EAAUG,GAAGH,EAAiB,MAAE,GAAGL,EAAW5C,EAAEiD,EAAUG,IAAI,KAAK,GAAoC,OAAjCH,EAAUb,KAAK,GAAGQ,EAAW3C,IAAWgD,EAAUE,OAAO,IAAI,KAAK,GAAG,IAAI,MAAM,OAAOF,EAAUX,UAAWrD,EAAS,KAAK,CAAC,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,MAAO,SAASU,EAAYpF,EAAMiF,GAAU,IAAI6D,EAAc,GAAuvB,OAApvB,SAASC,EAAU/I,EAAMgJ,EAAQC,GAAS,IAA2EC,EAAvEC,EAAW7N,OAAOL,EAA2C,EAAlDK,CAAqD0E,GAAc,IAAI,IAAImJ,EAAW9D,MAAM6D,EAAOC,EAAW3O,KAAK8K,MAAM,CAAC,IAAqH8D,EAAjHpM,EAAKkM,EAAOzN,MAAU4N,EAAW/N,OAAOL,EAA2C,EAAlDK,CAAqDqJ,EAAa3H,EAAKoL,SAAgB,IAAI,IAAIiB,EAAWhE,MAAM+D,EAAOC,EAAW7O,KAAK8K,MAAM,CAAC,IAAIgE,EAAaF,EAAO3N,MAAMyC,EAAEoL,EAAapL,EAAEC,EAAEmL,EAAanL,EAAMoL,EAASrL,EAAE8K,EAAYQ,EAASrL,EAAE8K,EAAQ,GAAGjM,EAAKyM,QAAiDV,EAA7B9D,EAASjI,EAAKyM,SAASzJ,MAAuBuJ,EAASC,QAAgBV,EAAc9O,KAAK,CAACgD,KAAKA,EAAKkB,EAAEqL,EAASpL,EAAEqL,KAAc,MAAMhE,GAAK6D,EAAW5D,EAAED,GAAM,QAAQ6D,EAAW3D,MAAO,MAAMF,GAAK2D,EAAW1D,EAAED,GAAM,QAAQ2D,EAAWzD,KAAMqD,CAAU/I,EAAM,EAAE,GAAU8I,EAEpvJ,IAAIY,EAAWvP,EAAoB,IAG/BwP,EAAcxP,EAAoB,IAGlCyP,EAAmB,SAASC,GAAQvO,OAAOoO,EAA0B,EAAjCpO,CAAoCwO,EAAGD,GAAQ,IAAIE,EAAOzO,OAAOqO,EAA6B,EAApCrO,CAAuCwO,GAAI,SAASA,IAAK,IAAIrM,EAAyM,OAAnMnC,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAK+P,IAAIrM,EAAMsM,EAAOC,KAAKjQ,KAAK,OAAYkQ,IAAI,EAAExM,EAAMyM,aAAa,IAAIzM,EAAM0M,aAAa,IAAI1M,EAAM2M,WAAW,KAAO3M,EAAMyE,SAAS,EAAEzE,EAAM4M,QAAQ,EAAS5M,EAAkiB,OAA3hBnC,OAAOH,EAA6B,EAApCG,CAAuCwO,EAAG,CAAC,CAACtO,IAAI,SAASC,MAAM,SAAgBwE,EAAOP,GAAW,IAAI4K,EAAKhO,KAAKiO,IAAItK,EAAOb,IAAIlB,GAAG,GAAc,IAAXnE,KAAKkQ,IAAShK,EAAOb,IAAIlB,GAAGnE,KAAKmQ,aAAanQ,KAAKkQ,IAAIvK,EAAaO,EAAOuK,MAA+B,IAAtBvK,EAAOuK,KAAKC,UAAiB1Q,KAAKsQ,QAAQtQ,KAAKkQ,KAAWlQ,KAAKsQ,QAAQtQ,KAAKkQ,SAAW,GAAkB,IAAfhK,EAAOb,IAAIlB,EAAM,CAAC,IAAIwM,EAAMpO,KAAKqO,IAAIL,EAAKvQ,KAAKoQ,aAAazK,GAAWO,EAAOb,IAAIlB,GAAG+B,EAAOb,IAAIlB,EAAE,GAAGwM,EAAMA,OAAY3Q,KAAKmI,SAAS,EAAG,IAAI0I,EAAK7Q,KAAKqQ,WAAWnK,EAAOb,IAAIlB,EAAEoM,EAAKrK,EAAOb,IAAIlB,GAAG0M,EAAK7Q,KAAKmI,UAAUoI,EAAK5K,MAAsBoK,EAAj4B,CAAs4BlL,GAEz5BiM,EAAuB,SAAShB,GAAQvO,OAAOoO,EAA0B,EAAjCpO,CAAoCwP,EAAKjB,GAAQ,IAAIE,EAAOzO,OAAOqO,EAA6B,EAApCrO,CAAuCwP,GAAM,SAASA,IAAO,IAAIrN,EAAgO,OAA1NnC,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAK+Q,IAAMrN,EAAMsM,EAAOC,KAAKjQ,KAAK,SAAcgR,MAAM,EAAEtN,EAAMuN,SAAS,GAAIvN,EAAMwN,SAAS,IAAIxN,EAAMyN,WAAW,EAAEzN,EAAM0N,YAAY,EAAE1N,EAAM2N,YAAY,GAAI3N,EAAM4N,WAAW,GAAW5N,EAAqrB,OAA9qBnC,OAAOH,EAA6B,EAApCG,CAAuCwP,EAAK,CAAC,CAACtP,IAAI,UAAUyB,IAAI,WAAe,OAAOlD,KAAKgR,MAAM,IAAK,CAACvP,IAAI,QAAQC,MAAM,WAAiB1B,KAAKoR,YAAYpR,KAAKqR,cAAe,CAAC5P,IAAI,SAASC,MAAM,WAAkB1B,KAAKmR,WAAW,EAAEnR,KAAKoR,YAAY,IAAK,CAAC3P,IAAI,WAAWC,MAAM,SAAkBwE,EAAOT,GAASA,IAAOhB,EAAMG,OAAQ5E,KAAKgR,MAAM,EAAWvL,IAAOhB,EAAMC,KAAK1E,KAAKuR,WAAa,CAAC9P,IAAI,SAASC,MAAM,SAAgBwE,EAAOP,GAAc3F,KAAKoR,YAAY,IAAMpR,KAAKgR,MAAM,IAAGhR,KAAKmR,WAAW,GAAInR,KAAKoR,YAAY,GAAGpR,KAAKoR,aAAazL,GAAc3F,KAAKmR,WAAW,IAAGjL,EAAOb,IAAIjB,GAAGpE,KAAKkR,SAAS3O,KAAKiO,IAAItK,EAAOb,IAAIlB,GAAGnE,KAAKsR,WAAWtR,KAAKmR,YAAYxL,GAAW3F,KAAKgR,YAAoBD,EAAjjC,CAAwjClM,GAEnlC,SAAS2M,IAAc,OAAOzI,EAAgB,SAASF,MAAK,SAAS4I,GAAQ,IAAIC,EAAM,IAAIvM,EAAgBuM,EAAMpM,KAAKd,IAAI,GAAG,IAAIkN,EAAMC,SAAS,IAAI9B,GAAS6B,EAAMC,SAAS,IAAIb,GAAa,IAAIc,EAAOtJ,EAAW,CAAC,QAAQ,SAAS,IAAiU,OAAtGoJ,EAAMrJ,KAAK,SAAmB1G,GAAS8P,EAAOpJ,KAArQ,SAAoBqJ,GAAO,OAAGA,EAAMjB,KAAKC,QAAe,OAA0B,IAAfgB,EAAMG,GAAG3B,IAAYwB,EAAMrM,IAAIlB,EAAE,GAAGuN,EAAMG,GAAG3B,IAAI,GAAGwB,EAAMrM,IAAIlB,EAAE,GAAGuN,EAAMG,GAAG3B,IAAI,EAAS,QAAgB0B,EAAOF,EAAMG,GAAG1J,UAAiB,SAA6D2J,CAAWJ,GAAO/P,EAAQ,EAAE,EAAE3B,KAAK6R,GAAGvB,QAAQ,IAAYoB,KAE7iB,IAAIK,EAAyB,WAAW,SAASC,IAAQ,IAAItO,EAAM1D,KAAS2F,EAAUxD,UAAUC,OAAO,QAAkBC,IAAfF,UAAU,GAAeA,UAAU,GAAG,EAAE,GAAGZ,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAKgS,GAAO,IAAIC,EAAgB,EAAMC,EAAS,EAAElS,KAAKmS,YAAY,SAASC,GAAqF,KAA/EH,IAAkBG,EAAKF,GAAU,KAAwB,IAAGD,EAAgB,GAASA,EAAgBtM,GAAWjC,EAAMmC,OAAOF,GAAWsM,GAAiBtM,EAAWuM,EAASE,EAAK1O,EAAM2O,WAAsM,OAAzL9Q,OAAOH,EAA6B,EAApCG,CAAuCyQ,EAAM,CAAC,CAACvQ,IAAI,UAAUC,MAAM,WAAmB4Q,sBAAsBtS,KAAKmS,eAAgB,CAAC1Q,IAAI,QAAQC,MAAM,WAAiB1B,KAAKqS,cAAsBL,EAAxnB,GAEIO,EAAyC,WAAW,SAASC,IAAgBjR,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAKwS,GAC7JxS,KAAKyS,UAAU,IAAInL,IACnBtH,KAAK0S,OAAO,IAAIpL,IAEwN,OAFjN/F,OAAOH,EAA6B,EAApCG,CAAuCiR,EAAc,CAAC,CAAC/Q,IAAI,aAAaC,MAAM,SAAoBiR,EAAK1O,GAAUjE,KAAK0S,OAAOlO,IAAImO,EAAK1O,KAAa,CAACxC,IAAI,cAAcC,MAAM,SAAqBkR,GAAO,IAAID,EAAKC,EAAMD,KAAK,GAAI3S,KAAK0S,OAAO7F,IAAI8F,GAApB,CAC3OC,EAAMC,iBAAiB,IAAIC,EAAsB,YAAbF,EAAMxM,KAHtC,EAAe,EAG4DpG,KAAKyS,UAAUvP,IAAIyP,KAAQG,IAAkB9S,KAAKyS,UAAUjO,IAAImO,EAAKG,GAC5J9S,KAAK0S,OAAOxP,IAAIyP,EAAhB3S,CAAsB8S,OAAa,CAACrR,IAAI,WAAWC,MAAM,SAAkBqR,GAAQ,IAAIrP,EAAM1D,KAAK,CAAC,UAAU,SAAS6B,SAAQ,SAASmR,GAAWD,EAAOxJ,iBAAiByJ,GAAU,SAASJ,GAAOlP,EAAMuP,YAAYL,aAAyBJ,EAJrK,GAQ1E,IAAIU,EAAc,SAASC,IAAS5R,OAAOJ,EAAgC,EAAvCI,CAA0CvB,KAAKmT,GAAQnT,KAAKsC,IAAI,IAAIgC,EAAU,EAAE,GACpHtE,KAAKsF,KAAK,IAAIhB,EAAU,IAAI,MAEZlE,EAAoB,IAKpC,IAAIgT,EAAchT,EAAoB,GAGs1DiT,EAA12D,SAAgBC,GAAO,IAAIC,EAAUhS,OAAOhB,EAAc,OAArBgB,CAAwB,MAAo7C,OAA96CA,OAAOhB,EAAiB,UAAxBgB,EAA2B,WAAW,IAAIiS,EAAOD,EAAUE,QAAQxO,QAAQyO,IAAIF,GAAQ,IAAI7R,EAAQ6R,EAAO1L,WAAW,MAAMnG,EAAQ6R,OAAOpM,MAAM,IAAIzF,EAAQ6R,OAAOnM,OAAO,IAAI6B,QAAQC,IAAI,CAACqI,IAAc3G,EAAU,OAL3Q9B,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA8G,OAA9FwO,EAAKrO,KAAKd,IAAI,IAAI,KAAKmP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,QAAQ1G,EAAQ,EAAE,IAAYgS,KAAuC5K,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA6G,OAA7FwO,EAAKrO,KAAKd,IAAI,IAAI,IAAImP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,QAAQ1G,EAAQ,EAAE,IAAYgS,KAAuC5K,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA6G,OAA7FwO,EAAKrO,KAAKd,IAAI,IAAI,IAAImP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,QAAQ1G,EAAQ,EAAE,IAAYgS,KAAsC5K,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA6G,OAA7FwO,EAAKrO,KAAKd,IAAI,IAAI,IAAImP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,QAAQ1G,EAAQ,EAAE,IAAYgS,KAAsC5K,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA2G,OAA3FwO,EAAKrO,KAAKd,IAAI,EAAE,IAAImP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,QAAQ1G,EAAQ,EAAE,IAAYgS,KAAsC5K,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA6G,OAA7FwO,EAAKrO,KAAKd,IAAI,IAAI,IAAImP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,QAAQ1G,EAAQ,EAAE,IAAYgS,KAAsC5K,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA8G,OAA9FwO,EAAKrO,KAAKd,IAAI,IAAI,KAAKmP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,QAAQ1G,EAAQ,EAAE,IAAYgS,KAAsC5K,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA6G,OAA7FwO,EAAKrO,KAAKd,IAAI,IAAI,IAAImP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,QAAQ1G,EAAQ,EAAE,IAAYgS,KAAsC5K,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA8G,OAA9FwO,EAAKrO,KAAKd,IAAI,IAAI,KAAKmP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,QAAQ1G,EAAQ,EAAE,IAAYgS,KAAuC5K,EAAgB,QAAQF,MAAK,SAAS4I,GAAQ,IAAIkC,EAAK,IAAIxO,EAA+G,OAA/FwO,EAAKrO,KAAKd,IAAI,IAAI,KAAKmP,EAAKtL,KAAK,SAAiB1G,GAAS8P,EAAOpJ,KAAK,SAAS1G,EAAQ,EAAE,IAAYgS,OAK3pD9K,MAAK,SAASY,GAAM,IAAIC,EAAMnI,OAAOR,EAA+B,EAAtCQ,CAAyCkI,EAAK,IAAIiI,EAAMhI,EAAM,GAAGsB,EAAMtB,EAAM,GAAGkK,EAAMlK,EAAM,GAAGmK,EAAMnK,EAAM,GAAGoK,EAAMpK,EAAM,GAAGqK,EAAMrK,EAAM,GAAGsK,EAAMtK,EAAM,GAAGuK,EAAMvK,EAAM,GAAGwK,EAAMxK,EAAM,GAAGyK,EAAMzK,EAAM,GAAG0K,EAAM1K,EAAM,IAAI2K,EAAO3K,EAAM,IAAQ9H,EAAO,IAAIsR,EAAgBH,OAAOnR,OAAOA,EAAO8P,EAAMpP,IAAIkC,IAAI,GAAG,IAAIoP,EAAMtR,IAAIkC,IAAI,GAAG,IAAIqP,EAAMvR,IAAIkC,IAAI,GAAG,IAAIsP,EAAMxR,IAAIkC,IAAI,IAAI,IAAIuP,EAAMzR,IAAIkC,IAAI,IAAI,IAAIwP,EAAM1R,IAAIkC,IAAI,IAAI,IAAIyP,EAAM3R,IAAIkC,IAAI,IAAI,IAAI0P,EAAM5R,IAAIkC,IAAI,KAAK,IAAI2P,EAAM7R,IAAIkC,IAAI,KAAK,IAAI4P,EAAM9R,IAAIkC,IAAI,KAAK,IAAI6P,EAAO/R,IAAIkC,IAAI,KAAK,IAAIwG,EAAMrE,SAAS2N,IAAI5C,GAAO1G,EAAMrE,SAAS2N,IAAIV,GAAO5I,EAAMrE,SAAS2N,IAAIT,GAAO7I,EAAMrE,SAAS2N,IAAIR,GAAO9I,EAAMrE,SAAS2N,IAAIP,GAAO/I,EAAMrE,SAAS2N,IAAIN,GAAOhJ,EAAMrE,SAAS2N,IAAIL,GAAOjJ,EAAMrE,SAAS2N,IAAIJ,GAAOlJ,EAAMrE,SAAS2N,IAAIH,GAAOnJ,EAAMrE,SAAS2N,IAAIF,GAAOpJ,EAAMrE,SAAS2N,IAAID,GAb1vC,SAAuBnO,GAAQ,IAAIqO,EAAM,IAAIhC,EAA2S,OAA7QgC,EAAMC,WAAW,SAAQ,SAAS1B,GAAaA,EAAU5M,EAAOuK,KAAKgE,QAAcvO,EAAOuK,KAAKc,YAAagD,EAAMC,WAAW,cAAa,SAAS1B,GAAU5M,EAAO2L,GAAG3B,KAAK4C,EAAS,GAAG,KAAKyB,EAAMC,WAAW,aAAY,SAAS1B,GAAU5M,EAAO2L,GAAG3B,KAAK4C,GAAU,EAAE,KAAYyB,EAa66BG,CAAchD,GAAaiD,SAAS5B,QAAQ,IAAI6B,EAAM,IAAI7C,EAAY,EAAE,IAAI6C,EAAM/O,OAAO,SAAgBF,GAAWqF,EAAMtE,KAAK2B,KAAK1G,EAAQC,GAAQoJ,EAAMnF,OAAOF,GAAc+L,EAAMpP,IAAI6B,EAAE,MAAKvC,EAAOU,IAAI6B,EAAEuN,EAAMpP,IAAI6B,EAAE,MAAOyQ,EAAMH,aAAa,IAAuBlT,OAAO6R,EAAkB,KAAzB7R,CAA4B6R,EAAsB,SAAE,CAACyB,SAAS,CAActT,OAAO6R,EAAiB,IAAxB7R,CAA2B,SAASA,OAAOT,EAA+B,EAAtCS,CAAyC,CAACuT,UAAU,SAASC,IAAIxB,GAAWD,IAAqB/R,OAAO6R,EAAiB,IAAxB7R,CAA2B,KAAK,CAACuT,UAAU,QAAQD,SAAS,uDAEnyD,SAASG,IAAS,OAAmBzT,OAAO6R,EAAiB,IAAxB7R,CAA2B6R,EAAsB,SAAE,CAACyB,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,KAAK,CAACsT,SAAsBtT,OAAO6R,EAAkB,KAAzB7R,CAA4BX,EAA+B,EAAE,CAACqU,GAAG,aAAaH,UAAU,YAAYD,SAAS,CAActT,OAAO6R,EAAiB,IAAxB7R,CAA2B,OAAO,CAACsT,SAAS,UAAU,IAAiBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,OAAO,CAACsT,SAAS,QAAQ,IAAiBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,OAAO,CAACsT,SAAS,OAAO,IAAiBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,OAAO,CAACsT,SAAS,aAAa,IAAiBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,OAAO,CAACsT,SAAS,iBAEvlBzU,EAAoB,IAApC,IAGiqH8U,EAAzoH,WAAqB,OAAmB3T,OAAO6R,EAAkB,KAAzB7R,CAA4B6R,EAAsB,SAAE,CAACyB,SAAS,CAActT,OAAO6R,EAAkB,KAAzB7R,CAA4B,MAAM,CAAC4T,GAAG,QAAQL,UAAU,eAAeD,SAAS,CAActT,OAAO6R,EAAiB,IAAxB7R,CAA2B,MAAM,CAAC4T,GAAG,aAAa3L,IAAI,cAAc4L,IAAI,qDAAkE7T,OAAO6R,EAAiB,IAAxB7R,CAA2B,KAAK,CAACsT,SAAS,aAA0BtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,MAAM,CAACuT,UAAU,eAAeD,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,MAAM,CAACuT,UAAU,yBAAyBD,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,MAAM,CAACuT,UAAU,iBAAiBD,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAACuT,UAAU,eAAeD,SAAS,iEAA8EtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,MAAM,CAAC4T,GAAG,SAASL,UAAU,QAAQD,SAAsBtT,OAAO6R,EAAkB,KAAzB7R,CAA4B,MAAM,CAACuT,UAAU,QAAQD,SAAS,CAActT,OAAO6R,EAAiB,IAAxB7R,CAA2B,KAAK,CAACsT,SAAS,wFAAqGtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAACsT,SAAS,4VAAyWtT,OAAO6R,EAAkB,KAAzB7R,CAA4B,IAAI,CAACsT,SAAS,CAAC,cAA2BtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAAC8T,KAAK,4DAA4DC,OAAO,SAAST,SAAS,SAAS,wBAAqCtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,IAAiBA,OAAO6R,EAAiB,IAAxB7R,CAA2B,MAAM,CAAC4T,GAAG,aAAa3L,IAAI,2BAAwCjI,OAAO6R,EAAkB,KAAzB7R,CAA4B,MAAM,CAAC4T,GAAG,SAASL,UAAU,QAAQD,SAAS,CAActT,OAAO6R,EAAkB,KAAzB7R,CAA4B,MAAM,CAACuT,UAAU,QAAQD,SAAS,CAActT,OAAO6R,EAAiB,IAAxB7R,CAA2B,KAAK,CAACsT,SAAS,yCAAsDtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAACsT,SAAS,8TAA2UtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAACsT,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAAC8T,KAAK,kDAAkDC,OAAO,SAAST,SAAS,6BAA0CtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAACsT,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAAC8T,KAAK,kDAAkDC,OAAO,SAAST,SAAS,0EAAuFtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,MAAM,CAAC4T,GAAG,aAAa3L,IAAI,+BAA4CjI,OAAO6R,EAAkB,KAAzB7R,CAA4B,MAAM,CAAC4T,GAAG,SAASL,UAAU,eAAeD,SAAS,CAActT,OAAO6R,EAAiB,IAAxB7R,CAA2B,KAAK,CAACsT,SAAS,qBAAkCtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAAC8T,KAAK,iCAAiCC,OAAO,SAAST,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,MAAM,CAAC4T,GAAG,aAAa3L,IAAI,iCAA8CjI,OAAO6R,EAAiB,IAAxB7R,CAA2B,IAAI,CAAC8T,KAAK,4CAA4CC,OAAO,SAAST,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B,MAAM,CAAC4T,GAAG,aAAa3L,IAAI,0CAEr5F+L,EAAprB,WAAgB,OAAmBhU,OAAO6R,EAAiB,IAAxB7R,CAA2B6R,EAAsB,SAAE,CAACyB,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2BX,EAAwC,EAAE,CAACiU,SAAsBtT,OAAO6R,EAAkB,KAAzB7R,CAA4BV,EAA6B,EAAE,CAACgU,SAAS,CAActT,OAAO6R,EAAkB,KAAzB7R,CAA4BV,EAA4B,EAAE,CAAC2U,OAAM,EAAKC,KAAK,IAAIZ,SAAS,CAActT,OAAO6R,EAAiB,IAAxB7R,CAA2B8R,EAAU,IAAiB9R,OAAO6R,EAAiB,IAAxB7R,CAA2ByT,EAAO,OAAoBzT,OAAO6R,EAAiB,IAAxB7R,CAA2BV,EAA4B,EAAE,CAAC2U,OAAM,EAAKC,KAAK,aAAaZ,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2B2T,EAAc,cAEle,IAAIQ,EAAlL,WAAe,OAAmBnU,OAAO6R,EAAiB,IAAxB7R,CAA2B6R,EAAsB,SAAE,CAACyB,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2BgU,EAAG,OAE1I5U,EAAkB6J,EAAEmL,OAAoBpU,OAAO6R,EAAiB,IAAxB7R,CAA2Bf,EAAcgK,EAAEoL,WAAW,CAACf,SAAsBtT,OAAO6R,EAAiB,IAAxB7R,CAA2BmU,EAAQ,MAAM9N,SAASiO,eAAe,WAIpL,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonpportfolio\"] = this[\"webpackJsonpportfolio\"] || []).push([[0],{\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(25);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(15);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/js/Compositor.js\nvar Compositor_Compositor=/*#__PURE__*/function(){function Compositor(){Object(classCallCheck[\"a\" /* default */])(this,Compositor);this.layers=[];}Object(createClass[\"a\" /* default */])(Compositor,[{key:\"draw\",value:function draw(context,camera){this.layers.forEach(function(layer){layer(context,camera);});}}]);return Compositor;}();\n// CONCATENATED MODULE: ./src/js/TileResolver.js\nvar TileResolver_TileResolver=/*#__PURE__*/function(){function TileResolver(matrix){var tileSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:16;Object(classCallCheck[\"a\" /* default */])(this,TileResolver);this.matrix=matrix;this.tileSize=tileSize;}Object(createClass[\"a\" /* default */])(TileResolver,[{key:\"toIndex\",value:function toIndex(pos){return Math.floor(pos/this.tileSize);}},{key:\"toIndexRange\",value:function toIndexRange(pos1,pos2){var pMax=Math.ceil(pos2/this.tileSize)*this.tileSize;var range=[];var pos=pos1;do{range.push(this.toIndex(pos));pos+=this.tileSize;}while(pos<pMax);return range;}},{key:\"getByIndex\",value:function getByIndex(indexX,indexY){var tile=this.matrix.get(indexX,indexY);if(tile){var x1=indexX*this.tileSize;var x2=x1+this.tileSize;var y1=indexY*this.tileSize;var y2=y1+this.tileSize;return{tile:tile,x1:x1,x2:x2,y1:y1,y2:y2};}}},{key:\"searchByPosition\",value:function searchByPosition(posX,posY){return this.getByIndex(this.toIndex(posX),this.toIndex(posY));}},{key:\"searchByRange\",value:function searchByRange(x1,x2,y1,y2){var _this=this;var matches=[];this.toIndexRange(x1,x2).forEach(function(indexX){_this.toIndexRange(y1,y2).forEach(function(indexY){var match=_this.getByIndex(indexX,indexY);if(match){matches.push(match);}});});return matches;}}]);return TileResolver;}();\n// CONCATENATED MODULE: ./src/js/math.js\nvar math_Matrix=/*#__PURE__*/function(){function Matrix(){Object(classCallCheck[\"a\" /* default */])(this,Matrix);this.grid=[];}Object(createClass[\"a\" /* default */])(Matrix,[{key:\"forEach\",value:function forEach(callback){this.grid.forEach(function(column,x){column.forEach(function(value,y){callback(value,x,y);});});}},{key:\"get\",value:function get(x,y){var col=this.grid[x];if(col){return col[y];}return undefined;}},{key:\"set\",value:function set(x,y,value){if(!this.grid[x]){this.grid[x]=[];}this.grid[x][y]=value;}}]);return Matrix;}();var math_Vec2=/*#__PURE__*/function(){function Vec2(x,y){Object(classCallCheck[\"a\" /* default */])(this,Vec2);this.set(x,y);}Object(createClass[\"a\" /* default */])(Vec2,[{key:\"set\",value:function set(x,y){this.x=x;this.y=y;}}]);return Vec2;}();\n// CONCATENATED MODULE: ./src/js/Entity.js\nvar Sides={TOP:Symbol('top'),BOTTOM:Symbol('bottom')};var Entity_Trait=/*#__PURE__*/function(){function Trait(name){Object(classCallCheck[\"a\" /* default */])(this,Trait);this.NAME=name;}Object(createClass[\"a\" /* default */])(Trait,[{key:\"obstruct\",value:function obstruct(){}},{key:\"update\",value:function update(){console.warn('Unhandled update call in Trait');}}]);return Trait;}();var Entity_Entity=/*#__PURE__*/function(){function Entity(){Object(classCallCheck[\"a\" /* default */])(this,Entity);this.pos=new math_Vec2(0,0);this.vel=new math_Vec2(0,0);this.size=new math_Vec2(0,0);this.traits=[];}Object(createClass[\"a\" /* default */])(Entity,[{key:\"addTrait\",value:function addTrait(trait){this.traits.push(trait);this[trait.NAME]=trait;}},{key:\"obstruct\",value:function obstruct(side){var _this=this;this.traits.forEach(function(trait){trait.obstruct(_this,side);});}},{key:\"update\",value:function update(deltaTime){var _this2=this;this.traits.forEach(function(trait){trait.update(_this2,deltaTime);});}}]);return Entity;}();\n// CONCATENATED MODULE: ./src/js/TileCollider.js\nvar TileCollider_TileCollider=/*#__PURE__*/function(){function TileCollider(tileMatrix){Object(classCallCheck[\"a\" /* default */])(this,TileCollider);this.tiles=new TileResolver_TileResolver(tileMatrix);}Object(createClass[\"a\" /* default */])(TileCollider,[{key:\"checkX\",value:function checkX(entity){var x;if(entity.vel.x>0){x=entity.pos.x+entity.size.x;}else if(entity.vel.x<0){x=entity.pos.x;}else{return;}var matches=this.tiles.searchByRange(entity.pos.x,entity.pos.x+entity.size.x,entity.pos.y,entity.pos.y+entity.size.y);matches.forEach(function(match){if(match.tile.type!=='ground'){return;}if(entity.vel.x>0){if(entity.pos.x+entity.size.x>match.x1){entity.pos.x=match.x1-entity.size.x;entity.vel.x=0;}}else if(entity.vel.x<0){if(entity.pos.x<match.x2){entity.pos.x=match.x2;entity.vel.x=0;}}});}},{key:\"checkY\",value:function checkY(entity){var y;if(entity.vel.y>0){y=entity.pos.y+entity.size.y;}else if(entity.vel.y<0){y=entity.pos.y;}else{return;}var matches=this.tiles.searchByRange(entity.pos.x,entity.pos.x+entity.size.x,entity.pos.y,entity.pos.y+entity.size.y);matches.forEach(function(match){if(match.tile.type!=='ground'){return;}if(entity.vel.y>0){if(entity.pos.y+entity.size.y>match.y1){entity.pos.y=match.y1-entity.size.y;entity.vel.y=0;entity.obstruct(Sides.BOTTOM);}}else if(entity.vel.y<0){if(entity.pos.y<match.y2){entity.pos.y=match.y2;entity.vel.y=0;entity.obstruct(Sides.TOP);}}});}},{key:\"test\",value:function test(entity){this.checkY(entity);//const match=this.tiles.matchByPosition(entity.pos.x,entity.pos.y);\n//if (match){\n//console.log('Matched tile',match,match.tile);\n}}]);return TileCollider;}();\n// CONCATENATED MODULE: ./src/js/Level.js\nvar Level_Level=/*#__PURE__*/function(){function Level(){Object(classCallCheck[\"a\" /* default */])(this,Level);this.gravity=1000;this.totalTime=0;this.comp=new Compositor_Compositor();this.entities=new Set();this.tileCollider=null;}Object(createClass[\"a\" /* default */])(Level,[{key:\"setCollisionGrid\",value:function setCollisionGrid(matrix){this.tileCollider=new TileCollider_TileCollider(matrix);}},{key:\"update\",value:function update(deltaTime){var _this=this;this.entities.forEach(function(entity){entity.update(deltaTime);entity.pos.x+=entity.vel.x*deltaTime;_this.tileCollider.checkX(entity);entity.pos.y+=entity.vel.y*deltaTime;_this.tileCollider.checkY(entity);entity.vel.y+=_this.gravity*deltaTime;_this.tileCollider.test(entity);//not inside video\n});this.totalTime+=deltaTime;}}]);return Level;}();\n// CONCATENATED MODULE: ./src/js/layers.js\nfunction createBackgroundLayer(level,tiles,sprites){var resolver=new TileResolver_TileResolver(tiles);var buffer=document.createElement('canvas');buffer.width=550;buffer.height=640;var context=buffer.getContext('2d');function redraw(startIndex,endIndex){context.clearRect(0,0,buffer.width,buffer.height);var _loop=function _loop(x){var col=tiles.grid[x];if(col){col.forEach(function(tile,y){if(sprites.animation.has(tile.name)){sprites.drawAnim(tile.name,context,x-startIndex,y,level.totalTime);}else{sprites.drawtile(tile.name,context,x-startIndex,y);}});}};for(var x=startIndex;x<=endIndex;++x){_loop(x);}}return function drawBackgroundLayer(context,camera){var drawWidth=resolver.toIndex(camera.size.x);var drawFrom=resolver.toIndex(camera.pos.x);var drawTo=drawFrom+drawWidth;redraw(drawFrom,drawTo);//+screenwidth here\ncontext.drawImage(buffer,-camera.pos.x%16,-camera.pos.y);};}function createSpriteLayer(entities){var width=arguments.length>1&&arguments[1]!==undefined?arguments[1]:200;var height=arguments.length>2&&arguments[2]!==undefined?arguments[2]:64;var spriteBuffer=document.createElement('canvas');spriteBuffer.width=width;spriteBuffer.height=height;var spriteBufferContext=spriteBuffer.getContext('2d');return function drawSpriteLayer(context,camera){entities.forEach(function(entity){spriteBufferContext.clearRect(0,0,width,height);entity.draw(spriteBufferContext);context.drawImage(spriteBuffer,entity.pos.x-camera.pos.x,//here\nentity.pos.y-camera.pos.y);//here\n});};}// export function createCollisionLayer(level){\n// \tconst resolvedTiles=[];\n// \tconst tileResolver=level.tileCollider.tiles;\n// \tconst tileSize=tileResolver.tileSize;\n// \tconst getByIndexOriginal=tileResolver.getByIndex;\n// \ttileResolver.getByIndex=function getByIndexFake(x,y){\n// \t\tresolvedTiles.push({x,y});\n// \t\treturn getByIndexOriginal.call(tileResolver,x,y);\n// \t}\n// \treturn function drawCollision(context){\n// \t\tcontext.strokeStyle='blue';\n// \t\tresolvedTiles.forEach(({x,y})=>{\n// \t\t\tcontext.beginPath();\n// \t\t\tcontext.rect(\n// \t\t\t\tx*tileSize-camera.pos.x, //here\n// \t\t\t\ty*tileSize-camera.pos.y, //here\n// \t\t\t\ttileSize,tileSize);\n// \t\t\t//context.stroke();\n// \t\t\t//console.log('Would draw',x,y);\n// \t\t});\n// \t\tcontext.strokeStyle='red';\n// \t\tlevel.entities.forEach(entity=>{\n// \t\t\tcontext.beginPath();\n// \t\t\tcontext.rect(\n// \t\t\t\tentity.pos.x-camera.pos.x, //here\n// \t\t\t\tentity.pos.y-camera.pos.y, //here\n// \t\t\t\tentity.size.x,\n// \t\t\t\tentity.size.y);\n// \t\t\t//context.stroke();\n// \t\t})\n// \t\tresolvedTiles.length=0;\n// \t};\n// }\nfunction createCameraLayer(cameraToDraw){return function drawCameraRect(context,fromCamera){context.strokeStyle='purple';context.beginPath();context.rect(cameraToDraw.pos.x-fromCamera.pos.x,cameraToDraw.pos.y-fromCamera.pos.y,cameraToDraw.size.x,cameraToDraw.size.y);context.stroke();};}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(27);\n\n// CONCATENATED MODULE: ./src/js/SpriteSheet.js\nvar SpriteSheet_SpriteSheet=/*#__PURE__*/function(){function SpriteSheet(image,width,height){Object(classCallCheck[\"a\" /* default */])(this,SpriteSheet);this.image=image;this.width=width;this.height=height;this.tiles=new Map();this.animation=new Map();}Object(createClass[\"a\" /* default */])(SpriteSheet,[{key:\"defineAnim\",value:function defineAnim(name,animation){this.animation.set(name,animation);}},{key:\"define\",value:function define(name,x,y,width,height){var _this=this;var buffers=[false,true].map(function(flip){var buffer=document.createElement('canvas');buffer.width=width;//?\nbuffer.height=height;//?\nvar context=buffer.getContext('2d');if(flip){context.scale(-1,1);context.translate(-width,0);}context.drawImage(_this.image,x,//pieces\ny,width,height,0,//coordinates\n0,width,//size\nheight);return buffer;});this.tiles.set(name,buffers);}},{key:\"defineTile\",value:function defineTile(name,x,y){this.define(name,x*this.width,y*this.height,this.width,this.height);}},{key:\"draw\",value:function draw(name,context,x,y){var flip=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var buffer=this.tiles.get(name)[flip?1:0];context.drawImage(buffer,x,y);}},{key:\"drawAnim\",value:function drawAnim(name,context,x,y,distance){var animation=this.animation.get(name);this.drawtile(animation(distance),context,x,y);}},{key:\"drawtile\",value:function drawtile(name,context,x,y){this.draw(name,context,x*this.width,y*this.height);}}]);return SpriteSheet;}();\n// CONCATENATED MODULE: ./src/js/anim.js\nfunction createAnim(frames,frameLen){return function resolveFrame(distance){var frameIndex=Math.floor(distance/frameLen)%frames.length;var frameName=frames[frameIndex];return frameName;};}\n// CONCATENATED MODULE: ./src/js/loaders.js\nfunction loadImage(url){return new Promise(function(resolve){var image=new Image();image.addEventListener('load',function(){resolve(image);});image.src=url;});}function loadJSON(url){return fetch(url).then(function(r){return r.json();});}function loadSpriteSheet(name){return loadJSON(\"./sprites/\".concat(name,\".json\")).then(function(sheetSpec){return Promise.all([sheetSpec,loadImage(sheetSpec.imageURL)]);}).then(function(_ref){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),sheetSpec=_ref2[0],image=_ref2[1];var sprites=new SpriteSheet_SpriteSheet(image,sheetSpec.tileW,sheetSpec.tileH);//size\nif(sheetSpec.tiles){sheetSpec.tiles.forEach(function(tileSpec){sprites.defineTile(tileSpec.name,tileSpec.index[0],tileSpec.index[1]);});}if(sheetSpec.frames){sheetSpec.frames.forEach(function(frameSpec){sprites.define.apply(sprites,[frameSpec.name].concat(Object(toConsumableArray[\"a\" /* default */])(frameSpec.rect)));});}if(sheetSpec.animations){sheetSpec.animations.forEach(function(animSpec){var animation=createAnim(animSpec.frames,animSpec.frameLen);sprites.defineAnim(animSpec.name,animation);});}return sprites;});}\n// CONCATENATED MODULE: ./src/js/loaders/level.js\nvar _marked=/*#__PURE__*/regenerator_default.a.mark(expandSpan),_marked2=/*#__PURE__*/regenerator_default.a.mark(expandRanges);function loadLevel(name){return loadJSON(\"./levels/\".concat(name,\".json\")).then(function(levelSpec){return Promise.all([levelSpec,loadSpriteSheet(levelSpec.spriteSheet)]);}).then(function(_ref){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),levelSpec=_ref2[0],sprites=_ref2[1];var level=new Level_Level();var mergedTiles=levelSpec.layers.reduce(function(mergedTiles,layerSpec){return mergedTiles.concat(layerSpec.tiles);},[]);var collisionGrid=createCollisionGrid(mergedTiles,levelSpec.patterns);level.setCollisionGrid(collisionGrid);levelSpec.layers.forEach(function(layer){var backgroundGrid=createBackgroundGrid(layer.tiles,levelSpec.patterns);var backgroundLayer=createBackgroundLayer(level,backgroundGrid,sprites);level.comp.layers.push(backgroundLayer);});var spriteLayer=createSpriteLayer(level.entities);level.comp.layers.push(spriteLayer);return level;});}function createCollisionGrid(tiles,patterns){var grid=new math_Matrix();var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(expandTiles(tiles,patterns)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_step.value,tile=_step$value.tile,x=_step$value.x,y=_step$value.y;grid.set(x,y,{type:tile.type});}}catch(err){_iterator.e(err);}finally{_iterator.f();}return grid;}function createBackgroundGrid(tiles,patterns){var grid=new math_Matrix();var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(expandTiles(tiles,patterns)),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step2$value=_step2.value,tile=_step2$value.tile,x=_step2$value.x,y=_step2$value.y;grid.set(x,y,{name:tile.name});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return grid;}function expandSpan(xStart,xLen,yStart,yLen){var xEnd,yEnd,x,y;return regenerator_default.a.wrap(function expandSpan$(_context){while(1){switch(_context.prev=_context.next){case 0:xEnd=xStart+xLen;yEnd=yStart+yLen;x=xStart;case 3:if(!(x<xEnd)){_context.next=14;break;}y=yStart;case 5:if(!(y<yEnd)){_context.next=11;break;}_context.next=8;return{x:x,y:y};case 8:++y;_context.next=5;break;case 11:++x;_context.next=3;break;case 14:case\"end\":return _context.stop();}}},_marked);}function expandRange(range){if(range.length===4){var _range=Object(slicedToArray[\"a\" /* default */])(range,4),xStart=_range[0],xLen=_range[1],yStart=_range[2],yLen=_range[3];return expandSpan(xStart,xLen,yStart,yLen);}else if(range.length===3){var _range2=Object(slicedToArray[\"a\" /* default */])(range,3),_xStart=_range2[0],_xLen=_range2[1],_yStart=_range2[2];return expandSpan(_xStart,_xLen,_yStart,1);}else if(range.length===2){var _range3=Object(slicedToArray[\"a\" /* default */])(range,2),_xStart2=_range3[0],_yStart2=_range3[1];return expandSpan(_xStart2,1,_yStart2,1);}}function expandRanges(ranges){var _iterator3,_step3,range,_iterator4,_step4,item;return regenerator_default.a.wrap(function expandRanges$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(ranges);_context2.prev=1;_iterator3.s();case 3:if((_step3=_iterator3.n()).done){_context2.next=24;break;}range=_step3.value;_iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(expandRange(range));_context2.prev=6;_iterator4.s();case 8:if((_step4=_iterator4.n()).done){_context2.next=14;break;}item=_step4.value;_context2.next=12;return item;case 12:_context2.next=8;break;case 14:_context2.next=19;break;case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](6);_iterator4.e(_context2.t0);case 19:_context2.prev=19;_iterator4.f();return _context2.finish(19);case 22:_context2.next=3;break;case 24:_context2.next=29;break;case 26:_context2.prev=26;_context2.t1=_context2[\"catch\"](1);_iterator3.e(_context2.t1);case 29:_context2.prev=29;_iterator3.f();return _context2.finish(29);case 32:case\"end\":return _context2.stop();}}},_marked2,null,[[1,26,29,32],[6,16,19,22]]);}function expandTiles(tiles,patterns){var expandedTiles=[];function walkTiles(tiles,offsetX,offsetY){var _iterator5=Object(createForOfIteratorHelper[\"a\" /* default */])(tiles),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var tile=_step5.value;var _iterator6=Object(createForOfIteratorHelper[\"a\" /* default */])(expandRanges(tile.ranges)),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _step6$value=_step6.value,x=_step6$value.x,y=_step6$value.y;var derivedX=x+offsetX;var derivedY=y+offsetY;if(tile.pattern){var _tiles=patterns[tile.pattern].tiles;walkTiles(_tiles,derivedX,derivedY);}else{expandedTiles.push({tile:tile,x:derivedX,y:derivedY});}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}walkTiles(tiles,0,0);return expandedTiles;}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./src/js/traits/Go.js\nvar Go_Go=/*#__PURE__*/function(_Trait){Object(inherits[\"a\" /* default */])(Go,_Trait);var _super=Object(createSuper[\"a\" /* default */])(Go);function Go(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Go);_this=_super.call(this,'go');_this.dir=0;_this.acceleration=400;_this.deceleration=300;_this.dragFactor=1/5000;_this.distance=0;_this.heading=1;return _this;}Object(createClass[\"a\" /* default */])(Go,[{key:\"update\",value:function update(entity,deltaTime){var absX=Math.abs(entity.vel.x);if(this.dir!==0){entity.vel.x+=this.acceleration*this.dir*deltaTime;if(entity.jump){if(entity.jump.falling===false){this.heading=this.dir;}}else{this.heading=this.dir;}}else if(entity.vel.x!==0){var decel=Math.min(absX,this.deceleration*deltaTime);entity.vel.x+=entity.vel.x>0?-decel:decel;}else{this.distance=0;}var drag=this.dragFactor*entity.vel.x*absX;entity.vel.x-=drag;this.distance+=absX*deltaTime;}}]);return Go;}(Entity_Trait);\n// CONCATENATED MODULE: ./src/js/traits/Jump.js\nvar Jump_Jump=/*#__PURE__*/function(_Trait){Object(inherits[\"a\" /* default */])(Jump,_Trait);var _super=Object(createSuper[\"a\" /* default */])(Jump);function Jump(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Jump);_this=_super.call(this,'jump');_this.ready=0;_this.duration=0.5;_this.velocity=200;_this.engageTime=0;_this.requestTime=0;_this.gracePeriod=0.1;_this.speedBoost=0.1;return _this;}Object(createClass[\"a\" /* default */])(Jump,[{key:\"falling\",get:function get(){return this.ready<0;}},{key:\"start\",value:function start(){this.requestTime=this.gracePeriod;}},{key:\"cancel\",value:function cancel(){this.engageTime=0;this.requestTime=0;}},{key:\"obstruct\",value:function obstruct(entity,side){if(side===Sides.BOTTOM){this.ready=1;}else if(side===Sides.TOP){this.cancel();}}},{key:\"update\",value:function update(entity,deltaTime){if(this.requestTime>0){if(this.ready>0){this.engageTime=0.3;this.requestTime=0;}this.requestTime-=deltaTime;}if(this.engageTime>0){entity.vel.y=-this.velocity+Math.abs(entity.vel.x)*this.speedBoost;this.engageTime-=deltaTime;}this.ready--;}}]);return Jump;}(Entity_Trait);\n// CONCATENATED MODULE: ./src/js/entities.js\nfunction createMario(){return loadSpriteSheet('mario').then(function(sprite){var mario=new Entity_Entity();mario.size.set(50,50);mario.addTrait(new Go_Go());mario.addTrait(new Jump_Jump());var runAim=createAnim(['run-1','run-2'],15);function routeFrame(mario){if(mario.jump.falling){return'jump';}if(mario.go.dir!==0){if(mario.vel.x>0&&mario.go.dir<0||mario.vel.x<0&&mario.go.dir>0){return'break';}return runAim(mario.go.distance);}return'player';}mario.draw=function drawMario(context){sprite.draw(routeFrame(mario),context,0,0,this.go.heading<0);};return mario;});}\n// CONCATENATED MODULE: ./src/js/Timer.js\nvar Timer_Timer=/*#__PURE__*/function(){function Timer(){var _this=this;var deltaTime=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1/60;Object(classCallCheck[\"a\" /* default */])(this,Timer);var accumulatedTime=0;var lastTime=0;this.updateProxy=function(time){accumulatedTime+=(time-lastTime)/1000;if(accumulatedTime>1){accumulatedTime=1;}while(accumulatedTime>deltaTime){_this.update(deltaTime);accumulatedTime-=deltaTime;}lastTime=time;_this.enqueue();};}Object(createClass[\"a\" /* default */])(Timer,[{key:\"enqueue\",value:function enqueue(){requestAnimationFrame(this.updateProxy);}},{key:\"start\",value:function start(){this.enqueue();}}]);return Timer;}();\n// CONCATENATED MODULE: ./src/js/KeyboardState.js\nvar PRESSED=1;var RELEASED=0;var KeyboardState_KeyboardState=/*#__PURE__*/function(){function KeyboardState(){Object(classCallCheck[\"a\" /* default */])(this,KeyboardState);// Holds the current state of a given key\nthis.keyStates=new Map();// Holds the callback functions for a key code\nthis.keyMap=new Map();}Object(createClass[\"a\" /* default */])(KeyboardState,[{key:\"addMapping\",value:function addMapping(code,callback){this.keyMap.set(code,callback);}},{key:\"handleEvent\",value:function handleEvent(event){var code=event.code;if(!this.keyMap.has(code)){// Did not have key mapped.\nreturn;}event.preventDefault();var keyState=event.type==='keydown'?PRESSED:RELEASED;if(this.keyStates.get(code)===keyState){return;}this.keyStates.set(code,keyState);//console.log(this.keyStates);\nthis.keyMap.get(code)(keyState);}},{key:\"listenTo\",value:function listenTo(window){var _this=this;['keydown','keyup'].forEach(function(eventName){window.addEventListener(eventName,function(event){_this.handleEvent(event);});});}}]);return KeyboardState;}();\n// CONCATENATED MODULE: ./src/js/input.js\nfunction setupKeyboard(entity){var input=new KeyboardState_KeyboardState();input.addMapping('Space',function(keyState){if(keyState){entity.jump.start();}else{entity.jump.cancel();}});input.addMapping('ArrowRight',function(keyState){entity.go.dir+=keyState?1:-1;});input.addMapping('ArrowLeft',function(keyState){entity.go.dir+=keyState?-1:1;});return input;}\n// CONCATENATED MODULE: ./src/js/Camera.js\nvar Camera_Camera=function Camera(){Object(classCallCheck[\"a\" /* default */])(this,Camera);this.pos=new math_Vec2(0,0);//this.size=new Vec2(256,224);\nthis.size=new math_Vec2(500,320);};\n// EXTERNAL MODULE: ./src/js/canvas.scss\nvar js_canvas = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/js/entities_msg.js\nfunction createTxt1(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(200,100);text.draw=function drawMsg(context){sprite.draw('text1',context,0,0);};return text;});};function createTxt2(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(200,70);text.draw=function drawMsg(context){sprite.draw('text2',context,0,0);};return text;});};function createTxt3(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(200,80);text.draw=function drawMsg(context){sprite.draw('text3',context,0,0);};return text;});}function createTxt4(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(200,55);text.draw=function drawMsg(context){sprite.draw('text4',context,0,0);};return text;});}function createTxt5(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(0,20);text.draw=function drawMsg(context){sprite.draw('text5',context,0,0);};return text;});}function createTxt6(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(150,20);text.draw=function drawMsg(context){sprite.draw('text6',context,0,0);};return text;});}function createTxt7(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(200,150);text.draw=function drawMsg(context){sprite.draw('text7',context,0,0);};return text;});}function createTxt8(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(200,90);text.draw=function drawMsg(context){sprite.draw('text8',context,0,0);};return text;});}function createTxt9(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(200,150);text.draw=function drawMsg(context){sprite.draw('text9',context,0,0);};return text;});}function createTxt10(){return loadSpriteSheet('text').then(function(sprite){var text=new Entity_Entity();text.size.set(200,150);text.draw=function drawMsg(context){sprite.draw('text10',context,0,0);};return text;});}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/js/Canvas.js\nvar Canvas_Canvas=function Canvas(props){var canvasRef=Object(react[\"useRef\"])(null);Object(react[\"useEffect\"])(function(){var canvas=canvasRef.current;console.log(canvas);var context=canvas.getContext('2d');context.canvas.width=500;context.canvas.height=320;Promise.all([createMario(),loadLevel('1-1'),createTxt1(),createTxt2(),createTxt3(),createTxt4(),createTxt5(),createTxt6(),createTxt7(),createTxt8(),createTxt9(),createTxt10()]).then(function(_ref){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,12),mario=_ref2[0],level=_ref2[1],text1=_ref2[2],text2=_ref2[3],text3=_ref2[4],text4=_ref2[5],text5=_ref2[6],text6=_ref2[7],text7=_ref2[8],text8=_ref2[9],text9=_ref2[10],text10=_ref2[11];var camera=new Camera_Camera();window.camera=camera;mario.pos.set(50,90);text1.pos.set(50,90);text2.pos.set(50,90);text3.pos.set(500,80);text4.pos.set(500,80);text5.pos.set(720,80);text6.pos.set(880,40);text7.pos.set(1280,80);text8.pos.set(1280,80);text9.pos.set(1800,80);text10.pos.set(2400,80);level.entities.add(mario);level.entities.add(text1);level.entities.add(text2);level.entities.add(text3);level.entities.add(text4);level.entities.add(text5);level.entities.add(text6);level.entities.add(text7);level.entities.add(text8);level.entities.add(text9);level.entities.add(text10);var input=setupKeyboard(mario);input.listenTo(window);var timer=new Timer_Timer(1/60);timer.update=function update(deltaTime){level.comp.draw(context,camera);level.update(deltaTime);if(mario.pos.x>100){camera.pos.x=mario.pos.x-100;}};timer.start();});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"canvas\",Object(objectSpread2[\"a\" /* default */])({className:\"canvas\",ref:canvasRef},props)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"guide\",children:\"Arrow key left & right to move! Space to jump!\"})]});};/* harmony default export */ var js_Canvas = (Canvas_Canvas);\n// CONCATENATED MODULE: ./src/js/Navbar.js\nfunction Navbar(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/portfolio\",className:\"portfolio\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Check\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"out\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"my\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"projects\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"here!\"})]})})});};\n// EXTERNAL MODULE: ./src/portfolio.scss\nvar portfolio = __webpack_require__(24);\n\n// CONCATENATED MODULE: ./src/Portfolio.js\nvar Portfolio_Portfolio=function Portfolio(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"title\",className:\"slide header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{id:\"profilepic\",src:\"/img/me.jpg\",alt:\"Cannot view? Oh you just missed my handsome face\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Kai Yang\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"table center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"monitor-wrapper center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"monitor center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"text1 center\",children:\"Data Enthusiast | Problem Solver | JavaScript Lover\"})})})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"slide1\",className:\"slide\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"title\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Underground Mobility Sensing Project using multi-sensory data with Machine Learning\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Location information about commuter activities is vital for planning for travel disruptions and infrastructural development. However, GPS connectivity is lost when underground in our MRT networks. The Mobility Sensing Project aims to find innovative and novel ways to conduct location sensing using multi-sensory data collected in smartphones.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Visit this \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/kaiyang7766/UndergroundMobilitySensing\",target:\"_blank\",children:\"link\"}),\" to find out more!\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{id:\"projectpic\",src:\"/img/LTA_logo.png\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"slide2\",className:\"slide\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"title\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Breadtalk Traceability Online System\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Food Traceability System has always been a core in Food Safety measurements. In order to facilitate efficient tracking of raw materials back in my internship at BreadTalk, I created an online system using React.js for the production team to record down the daily usage of materials on the comfort of their phones.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/kaiyang7766/breadtalkmockapp\",target:\"_blank\",children:\"Github code repository\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://focused-ardinghelli-c3b960.netlify.app/\",target:\"_blank\",children:\"Mock application interface (Only Traceability System is working)\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{id:\"projectpic\",src:\"/img/Breadtalk_logo.jpg\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"slide4\",className:\"slide header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Connect with me!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/kaiyang7766\",target:\"_blank\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{id:\"connectpic\",src:\"/img/Github_logo_white.png\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://www.linkedin.com/in/ang-kai-yang/\",target:\"_blank\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{id:\"connectpic\",src:\"/img/LinkedIn_logo_white.png\"})})]})]});};/* harmony default export */ var src_Portfolio = (Portfolio_Portfolio);\n// CONCATENATED MODULE: ./src/js/index.js\nvar js_Main=function Main(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(js_Canvas,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/portfolio\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Portfolio,{})})]})})});};/* harmony default export */ var js = (js_Main);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(js,{})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[44,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-6-0!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-6-1!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\resolve-url-loader\\index.js??ref--5-oneOf-6-3!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\sass-loader\\dist\\cjs.js??ref--5-oneOf-6-4!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\src\\js\\canvas.scss","C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-6-0!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-6-1!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\resolve-url-loader\\index.js??ref--5-oneOf-6-3!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\sass-loader\\dist\\cjs.js??ref--5-oneOf-6-4!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\src\\portfolio.scss","C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Ang Kai Yang\\Desktop\\portfolio\\src\\index.css","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/Compositor.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/TileResolver.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/math.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/Entity.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/TileCollider.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/Level.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/layers.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/SpriteSheet.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/anim.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/loaders.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/loaders/level.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/traits/Go.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/traits/Jump.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/entities.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/Timer.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/KeyboardState.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/input.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/Camera.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/entities_msg.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/Canvas.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/Navbar.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/Portfolio.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/js/index.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/App.js","C:/Users/Ang Kai Yang/Desktop/portfolio/src/index.js"],"names":["Compositor","layers","context","camera","forEach","layer","TileResolver","matrix","tileSize","pos","Math","floor","pos1","pos2","pMax","ceil","range","push","toIndex","indexX","indexY","tile","get","x1","x2","y1","y2","posX","posY","getByIndex","matches","toIndexRange","match","Matrix","grid","callback","column","x","value","y","col","undefined","Vec2","set","Sides","TOP","Symbol","BOTTOM","Trait","name","NAME","console","warn","Entity","vel","size","traits","trait","side","obstruct","deltaTime","update","TileCollider","tileMatrix","tiles","entity","searchByRange","type","checkY","Level","gravity","totalTime","comp","entities","Set","tileCollider","checkX","test","createBackgroundLayer","level","sprites","resolver","buffer","document","createElement","width","height","getContext","redraw","startIndex","endIndex","clearRect","animation","has","drawAnim","drawtile","drawBackgroundLayer","drawWidth","drawFrom","drawTo","drawImage","createSpriteLayer","spriteBuffer","spriteBufferContext","drawSpriteLayer","draw","createCameraLayer","cameraToDraw","drawCameraRect","fromCamera","strokeStyle","beginPath","rect","stroke","SpriteSheet","image","Map","buffers","map","flip","scale","translate","define","distance","createAnim","frames","frameLen","resolveFrame","frameIndex","length","frameName","loadImage","url","Promise","resolve","Image","addEventListener","src","loadJSON","fetch","then","r","json","loadSpriteSheet","sheetSpec","all","imageURL","tileW","tileH","tileSpec","defineTile","index","frameSpec","animations","animSpec","defineAnim","expandSpan","expandRanges","loadLevel","levelSpec","spriteSheet","mergedTiles","reduce","layerSpec","concat","collisionGrid","createCollisionGrid","patterns","setCollisionGrid","backgroundGrid","createBackgroundGrid","backgroundLayer","spriteLayer","expandTiles","xStart","xLen","yStart","yLen","xEnd","yEnd","expandRange","ranges","item","expandedTiles","walkTiles","offsetX","offsetY","derivedX","derivedY","pattern","Go","dir","acceleration","deceleration","dragFactor","heading","absX","abs","jump","falling","decel","min","drag","Jump","ready","duration","velocity","engageTime","requestTime","gracePeriod","speedBoost","cancel","createMario","sprite","mario","addTrait","runAim","routeFrame","go","drawMario","Timer","accumulatedTime","lastTime","updateProxy","time","enqueue","requestAnimationFrame","PRESSED","RELEASED","KeyboardState","keyStates","keyMap","code","event","preventDefault","keyState","window","eventName","handleEvent","setupKeyboard","input","addMapping","start","Camera","createTxt1","text","drawMsg","createTxt2","createTxt3","createTxt4","createTxt5","createTxt6","createTxt7","createTxt8","createTxt9","createTxt10","Canvas","props","canvasRef","useRef","useEffect","canvas","current","log","msg","text1","text2","text3","text4","text5","text6","text7","text8","text9","text10","add","listenTo","timer","Navbar","Portfolio","Main","App","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export default class Compositor {\r\n\tconstructor(){\r\n\t\tthis.layers=[];\r\n\t}\r\n\r\n\tdraw(context,camera){\r\n\t\tthis.layers.forEach(layer=>{\r\n\t\t\tlayer(context,camera);\r\n\t\t});\r\n\t}\r\n}","export default class TileResolver{\r\n\tconstructor(matrix,tileSize=16){\r\n\t\tthis.matrix=matrix;\r\n\t\tthis.tileSize=tileSize;\r\n\t}\r\n\r\n\ttoIndex(pos){\r\n\t\treturn Math.floor(pos / this.tileSize);\r\n\t}\r\n\r\n\ttoIndexRange(pos1,pos2){\r\n\t\tconst pMax=Math.ceil(pos2/this.tileSize)*this.tileSize;\r\n\t\tconst range=[];\r\n\t\tlet pos = pos1;\r\n\t\tdo {\r\n\t\t\trange.push(this.toIndex(pos));\r\n\t\t\tpos+=this.tileSize;\r\n\t\t} while (pos<pMax);\r\n\t\treturn range;\r\n\t}\r\n\r\n\tgetByIndex(indexX,indexY){\r\n\t\tconst tile=this.matrix.get(indexX,indexY);\r\n\t\tif (tile){\r\n\t\t\tconst x1=indexX*this.tileSize;\r\n\t\t\tconst x2=x1+this.tileSize;\r\n\t\t\tconst y1=indexY*this.tileSize;\r\n\t\t\tconst y2=y1+this.tileSize;\r\n\t\t\treturn {\r\n\t\t\t\ttile,\r\n\t\t\t\tx1,\r\n\t\t\t\tx2,\r\n\t\t\t\ty1,\r\n\t\t\t\ty2,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tsearchByPosition(posX,posY){\r\n\t\treturn this.getByIndex(\r\n\t\t\tthis.toIndex(posX),\r\n\t\t\tthis.toIndex(posY));\r\n\t}\r\n\r\n\tsearchByRange(x1,x2,y1,y2){\r\n\t\tconst matches=[];\r\n\t\tthis.toIndexRange(x1,x2).forEach(indexX=>{\r\n\t\t\tthis.toIndexRange(y1,y2).forEach(indexY=>{\r\n\t\t\t\tconst match=this.getByIndex(indexX,indexY);\r\n\t\t\t\tif (match){\r\n\t\t\t\t\tmatches.push(match);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn matches;\r\n\t}\r\n}","export class Matrix{\r\n\tconstructor(){\r\n\t\tthis.grid=[];\r\n\t}\r\n\r\n\tforEach(callback){\r\n\t\tthis.grid.forEach((column,x)=>{\r\n \t\t\tcolumn.forEach((value,y)=>{\r\n \t\t\t\tcallback(value,x,y);\r\n \t\t\t});\r\n \t\t});\r\n\t}\r\n\r\n\tget(x,y){\r\n\t\tconst col = this.grid[x];\r\n\t\tif (col){\r\n\t\t\treturn col[y];\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tset(x,y,value){\r\n\t\tif(!this.grid[x]){\r\n\t\t\tthis.grid[x]=[];\r\n\t\t}\r\n\t\tthis.grid[x][y]=value;\r\n\t}\r\n}\r\n\r\nexport class Vec2{\r\n\tconstructor(x,y){\r\n\t\tthis.set(x,y);\r\n}\r\n\t\tset(x,y){\r\n\t\tthis.x=x;\r\n\t\tthis.y=y;\r\n\t}\r\n}","import {Vec2} from './math.js';\r\n\r\nexport const Sides={\r\n\tTOP:Symbol('top'),\r\n\tBOTTOM:Symbol('bottom'),\r\n}\r\n\r\nexport class Trait{\r\n\tconstructor(name){\r\n\t\tthis.NAME=name;\r\n\t}\r\n\r\n\tobstruct(){\r\n\t\t\r\n\t}\r\n\r\n\tupdate(){\r\n\t\tconsole.warn('Unhandled update call in Trait')\r\n\t}\r\n}\r\n\r\nexport default class Entity{\r\n\tconstructor(){\r\n\t\tthis.pos=new Vec2(0,0);\r\n\t\tthis.vel=new Vec2(0,0);\r\n\t\tthis.size=new Vec2(0,0);\r\n\r\n\t\tthis.traits=[];\r\n\t}\r\n\r\n\taddTrait(trait){\r\n\t\tthis.traits.push(trait);\r\n\t\tthis[trait.NAME]=trait;\r\n\t}\r\n\r\n\tobstruct(side){\r\n\t\tthis.traits.forEach(trait=>{\r\n\t\t\ttrait.obstruct(this,side);\r\n\t\t});\r\n\t}\r\n\r\n\tupdate(deltaTime){\r\n\t\tthis.traits.forEach(trait=>{\r\n\t\t\ttrait.update(this,deltaTime);\r\n\t\t});\r\n\t}\r\n}","import TileResolver from './TileResolver.js';\r\nimport {Sides} from './Entity.js'\r\n\r\nexport default class TileCollider{\r\n\tconstructor(tileMatrix){\r\n\t\tthis.tiles=new TileResolver(tileMatrix);\r\n\t}\r\n\r\n\tcheckX(entity){\r\n\t\tlet x;\r\n\t\tif (entity.vel.x>0){\r\n\t\t\tx=entity.pos.x+entity.size.x;\r\n\t\t} else if (entity.vel.x<0){\r\n\t\t\tx=entity.pos.x;\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst matches=this.tiles.searchByRange(\r\n\t\t\tentity.pos.x,entity.pos.x+entity.size.x,\r\n\t\t\tentity.pos.y,entity.pos.y+entity.size.y);\r\n\r\n\t\tmatches.forEach(match=>{\r\n\t\t\tif (match.tile.type!=='ground'){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (entity.vel.x>0){\r\n\t\t\t\tif (entity.pos.x+entity.size.x>(match.x1)){\r\n\t\t\t\t\tentity.pos.x=(match.x1-entity.size.x);\r\n\t\t\t\t\tentity.vel.x=0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (entity.vel.x<0){\r\n\t\t\t\tif (entity.pos.x<(match.x2)){\r\n\t\t\t\t\tentity.pos.x=(match.x2);\r\n\t\t\t\t\tentity.vel.x=0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tcheckY(entity){\r\n\t\tlet y;\r\n\t\tif (entity.vel.y>0){\r\n\t\t\ty=entity.pos.y+entity.size.y;\r\n\t\t} else if (entity.vel.y<0){\r\n\t\t\ty=entity.pos.y\r\n\t\t\t;\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst matches=this.tiles.searchByRange(\r\n\t\t\tentity.pos.x,entity.pos.x+entity.size.x,\r\n\t\t\tentity.pos.y,entity.pos.y+entity.size.y);\r\n\r\n\t\tmatches.forEach(match=>{\r\n\t\t\tif (match.tile.type!=='ground'){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (entity.vel.y>0){\r\n\t\t\t\tif (entity.pos.y+entity.size.y>(match.y1)){\r\n\t\t\t\t\tentity.pos.y=(match.y1-entity.size.y);\r\n\t\t\t\t\tentity.vel.y=0;\r\n\r\n\t\t\t\t\tentity.obstruct(Sides.BOTTOM);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (entity.vel.y<0){\r\n\t\t\t\tif (entity.pos.y<(match.y2)){\r\n\t\t\t\t\tentity.pos.y=(match.y2);\r\n\t\t\t\t\tentity.vel.y=0;\r\n\r\n\t\t\t\t\tentity.obstruct(Sides.TOP);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\ttest(entity){\r\n\t\tthis.checkY(entity);\r\n\t\t//const match=this.tiles.matchByPosition(entity.pos.x,entity.pos.y);\r\n\t\t//if (match){\r\n\t\t//console.log('Matched tile',match,match.tile);\r\n\t\t}\r\n}","import Compositor from './Compositor.js';\r\nimport TileCollider from './TileCollider.js';\r\n\r\nexport default class Level{\r\n\tconstructor(){\r\n\t\tthis.gravity=1000;\r\n\t\tthis.totalTime=0;\r\n\t\tthis.comp=new Compositor();\r\n\t\tthis.entities=new Set();\r\n\r\n\t\tthis.tileCollider=null;\r\n\t}\r\n\r\n\tsetCollisionGrid(matrix){\r\n\t\tthis.tileCollider=new TileCollider(matrix);\r\n\t}\r\n\tupdate(deltaTime){\r\n\t\tthis.entities.forEach(entity=>{\r\n\t\t\tentity.update(deltaTime);\r\n\r\n\t\t\tentity.pos.x+=entity.vel.x*deltaTime;\r\n\t\t\tthis.tileCollider.checkX(entity);\r\n\r\n\t\t\tentity.pos.y+=entity.vel.y*deltaTime;\r\n\t\t\tthis.tileCollider.checkY(entity);\r\n\r\n\t\t\tentity.vel.y +=this.gravity*deltaTime;\r\n\r\n\t\t\tthis.tileCollider.test(entity); //not inside video\r\n\t\t});\r\n\r\n\t\tthis.totalTime+=deltaTime;\r\n\t}\r\n}","import TileResolver from './TileResolver.js';\r\n\r\nexport function createBackgroundLayer (level,tiles, sprites){\r\n\tconst resolver = new TileResolver(tiles);\r\n\r\n\tconst buffer=document.createElement('canvas');\r\n \tbuffer.width=550;\r\n \tbuffer.height=640;\r\n \tconst context=buffer.getContext('2d');\r\n\r\n \tfunction redraw(startIndex,endIndex){\r\n \t\tcontext.clearRect(0,0,buffer.width,buffer.height);\r\n \t\tfor (let x=startIndex;x<=endIndex;++x){\r\n \t\t\tconst col = tiles.grid[x];\r\n \t\t\tif (col){\r\n \t\t\t\tcol.forEach((tile,y)=>{\r\n \t\t\t\t\tif (sprites.animation.has(tile.name)){\r\n \t\t\t\t\t\tsprites.drawAnim(tile.name,context,x-startIndex,y,level.totalTime);\r\n \t\t\t\t\t} else {\r\n \t\t\t\t\t\tsprites.drawtile(tile.name,context,x-startIndex,y);\r\n \t\t\t\t\t}\r\n \t\t\t\t});\r\n \t\t\t}\r\n \t\t}\r\n \t}\r\n\r\n \treturn function drawBackgroundLayer(context,camera){\r\n \t\tconst drawWidth=resolver.toIndex(camera.size.x);\r\n \t\tconst drawFrom=resolver.toIndex(camera.pos.x);\r\n \t\tconst drawTo=drawFrom+drawWidth;\r\n \t\tredraw(drawFrom,drawTo);  //+screenwidth here\r\n \t\tcontext.drawImage(buffer,\r\n \t\t\t-camera.pos.x%16,\r\n \t\t\t-camera.pos.y);\r\n \t};\r\n}\r\n\r\nexport function createSpriteLayer(entities, width=200,height=64){\r\n\tconst spriteBuffer=document.createElement('canvas');\r\n\tspriteBuffer.width=width;\r\n\tspriteBuffer.height=height;\r\n\tconst spriteBufferContext=spriteBuffer.getContext('2d');\r\n\r\n\treturn function drawSpriteLayer(context,camera){\r\n\t\tentities.forEach(entity=>{\r\n\t\t\tspriteBufferContext.clearRect(0,0,width,height);\r\n\r\n\t\t\tentity.draw(spriteBufferContext);\r\n\r\n\t\t\tcontext.drawImage(\r\n\t\t\t\tspriteBuffer,\r\n\t\t\t\tentity.pos.x-camera.pos.x,  //here\r\n\t\t\t\tentity.pos.y-camera.pos.y); //here\r\n\t\t});\r\n\t};\r\n}\r\n\r\n// export function createCollisionLayer(level){\r\n// \tconst resolvedTiles=[];\r\n\r\n// \tconst tileResolver=level.tileCollider.tiles;\r\n// \tconst tileSize=tileResolver.tileSize;\r\n\r\n// \tconst getByIndexOriginal=tileResolver.getByIndex;\r\n// \ttileResolver.getByIndex=function getByIndexFake(x,y){\r\n// \t\tresolvedTiles.push({x,y});\r\n// \t\treturn getByIndexOriginal.call(tileResolver,x,y);\r\n// \t}\r\n\r\n// \treturn function drawCollision(context){\r\n// \t\tcontext.strokeStyle='blue';\r\n// \t\tresolvedTiles.forEach(({x,y})=>{\r\n// \t\t\tcontext.beginPath();\r\n// \t\t\tcontext.rect(\r\n// \t\t\t\tx*tileSize-camera.pos.x, //here\r\n// \t\t\t\ty*tileSize-camera.pos.y, //here\r\n// \t\t\t\ttileSize,tileSize);\r\n// \t\t\t//context.stroke();\r\n// \t\t\t//console.log('Would draw',x,y);\r\n// \t\t});\r\n\r\n// \t\tcontext.strokeStyle='red';\r\n// \t\tlevel.entities.forEach(entity=>{\r\n// \t\t\tcontext.beginPath();\r\n// \t\t\tcontext.rect(\r\n// \t\t\t\tentity.pos.x-camera.pos.x, //here\r\n// \t\t\t\tentity.pos.y-camera.pos.y, //here\r\n// \t\t\t\tentity.size.x,\r\n// \t\t\t\tentity.size.y);\r\n// \t\t\t//context.stroke();\r\n// \t\t})\r\n\r\n// \t\tresolvedTiles.length=0;\r\n// \t};\r\n// }\r\n\r\nexport function createCameraLayer(cameraToDraw){\r\n\treturn function drawCameraRect(context,fromCamera){\r\n\t\tcontext.strokeStyle='purple';\r\n\t\tcontext.beginPath();\r\n\t\t\tcontext.rect(\r\n\t\t\t\tcameraToDraw.pos.x-fromCamera.pos.x,\r\n\t\t\t\tcameraToDraw.pos.y-fromCamera.pos.y,\r\n\t\t\t\tcameraToDraw.size.x,\r\n\t\t\t\tcameraToDraw.size.y);\r\n\t\t\tcontext.stroke();\r\n\t};\r\n}","export default class SpriteSheet{\r\n\tconstructor(image,width,height){\r\n\t\tthis.image=image;\r\n\t\tthis.width=width;\r\n\t\tthis.height=height;\r\n\t\tthis.tiles=new Map();\r\n\t\tthis.animation=new Map();\r\n\t}\r\n\r\n\tdefineAnim(name,animation){\r\n\t\tthis.animation.set(name,animation);\r\n\t}\r\n\r\n\tdefine(name,x,y,width,height){\r\n\t\tconst buffers = [false,true].map(flip=>{\r\n\t\tconst buffer=document.createElement('canvas');\r\n\t\tbuffer.width=width; //?\r\n\t\tbuffer.height=height; //?\r\n\r\n\t\tconst context =buffer.getContext('2d');\r\n\r\n\t\tif (flip){\r\n\t\tcontext.scale(-1,1);\r\n\t\tcontext.translate(-width,0);\r\n\t\t}\r\n\r\n\t\tcontext.drawImage(\r\n\t\t\t\tthis.image,\r\n\t\t\t\tx, //pieces\r\n\t\t\t\ty,\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t\t0, //coordinates\r\n\t\t\t\t0,\r\n\t\t\t\twidth, //size\r\n\t\t\t\theight);\r\n\t\t\treturn buffer;\r\n\t\t});\r\n\t\tthis.tiles.set(name,buffers);\r\n\t}\r\n\r\n\tdefineTile(name,x,y){\r\n\t\tthis.define(name,x*this.width,y*this.height,this.width,this.height);\r\n\t}\r\n\r\n\tdraw(name,context,x,y, flip=false){\r\n\t\tconst buffer=this.tiles.get(name)[flip?1:0];\r\n\t\tcontext.drawImage(buffer,x,y);\r\n\t}\r\n\r\n\tdrawAnim(name,context,x,y,distance){\r\n\t\tconst animation = this.animation.get(name);\r\n\t\tthis.drawtile(animation(distance),context,x,y);\r\n\t}\r\n\r\n\tdrawtile(name,context,x,y){\r\n\t\tthis.draw(name,context,x*this.width,y*this.height);\r\n\t}\r\n}","export function createAnim(frames,frameLen){\r\n\treturn function resolveFrame(distance){\r\n\t\tconst frameIndex=Math.floor(distance/frameLen)%frames.length;\r\n\t\tconst frameName=frames[frameIndex];\r\n\t\treturn frameName;\r\n\t}\r\n}","import SpriteSheet from './SpriteSheet.js';\r\nimport {createAnim} from './anim.js';\r\n\r\nexport function loadImage(url) {\r\n\treturn new Promise(resolve => {\r\n\t\tconst image = new Image();\r\n\t\timage.addEventListener('load', () => {\r\n\t\t\tresolve(image);\r\n\t\t});\r\n\t\timage.src = url;\r\n\t});\r\n}\r\n\r\nexport function loadJSON(url){\r\n\treturn fetch(url)\r\n\t.then(r=>r.json());\r\n}\r\n\r\nexport function loadSpriteSheet(name){\r\n\treturn loadJSON(`./sprites/${name}.json`)\r\n\t.then(sheetSpec=> Promise.all([\r\n\t\tsheetSpec,\r\n\t\tloadImage(sheetSpec.imageURL),\r\n\t]))\r\n\t.then(([sheetSpec,image])=>{\r\n\t\tconst sprites=new SpriteSheet(\r\n\t\timage,\r\n\t\tsheetSpec.tileW,\r\n\t\tsheetSpec.tileH); //size\r\n\r\n\t\tif (sheetSpec.tiles){\r\n\t\t\tsheetSpec.tiles.forEach(tileSpec=>{\r\n\t\t\t\tsprites.defineTile(\r\n\t\t\t\t\ttileSpec.name,\r\n\t\t\t\t\ttileSpec.index[0],\r\n\t\t\t\t\ttileSpec.index[1]);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (sheetSpec.frames){\r\n\t\t\tsheetSpec.frames.forEach(frameSpec=>{\r\n\t\t\t\tsprites.define(frameSpec.name, ...frameSpec.rect);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (sheetSpec.animations){\r\n\t\t\tsheetSpec.animations.forEach(animSpec=>{\r\n\t\t\t\tconst animation=createAnim(animSpec.frames,animSpec.frameLen);\r\n\t\t\t\tsprites.defineAnim(animSpec.name,animation);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn sprites;\r\n\t});\r\n}\r\n\r\n","import Level from '../Level.js';\r\nimport {createBackgroundLayer, createSpriteLayer} from '../layers.js';\r\nimport {loadJSON, loadSpriteSheet} from '../loaders.js';\r\nimport {Matrix} from '../math.js';\r\n\r\nexport function loadLevel(name){\r\n\treturn loadJSON(`./levels/${name}.json`)\r\n\t.then(levelSpec => Promise.all([\r\n\t\tlevelSpec,\r\n\t\tloadSpriteSheet(levelSpec.spriteSheet),\r\n\t]))\r\n\t.then(([levelSpec,sprites])=>{\r\n\t\tconst level = new Level();\r\n\r\n\t\tconst mergedTiles=levelSpec.layers.reduce((mergedTiles,layerSpec)=>{\r\n\t\t\treturn mergedTiles.concat(layerSpec.tiles);\r\n\t\t}, []);\r\n\t\tconst collisionGrid=createCollisionGrid(mergedTiles,levelSpec.patterns)\r\n\t\tlevel.setCollisionGrid(collisionGrid);\r\n\r\n\t\tlevelSpec.layers.forEach(layer=>{\r\n\t\tconst backgroundGrid=createBackgroundGrid(layer.tiles,levelSpec.patterns)\r\n \t\tconst backgroundLayer=createBackgroundLayer(level,backgroundGrid, sprites);\r\n \t\tlevel.comp.layers.push(backgroundLayer);\r\n \t\t});\r\n\r\n \t\tconst spriteLayer=createSpriteLayer(level.entities);\r\n \t\tlevel.comp.layers.push(spriteLayer);\r\n\r\n \t\treturn level;\r\n\t})\r\n}\r\n\r\nfunction createCollisionGrid(tiles,patterns){\r\n\tconst grid=new Matrix();\r\n\r\n\tfor (const {tile,x,y} of expandTiles(tiles,patterns)){\r\n\t\t\tgrid.set(x,y,{type:tile.type});\r\n\t\t}\r\n\r\n\t\treturn grid;\r\n}\r\n\r\nfunction createBackgroundGrid(tiles,patterns){\r\n\tconst grid=new Matrix();\r\n\r\n\tfor (const {tile,x,y} of expandTiles(tiles,patterns)){\r\n\t\t\tgrid.set(x,y,{name:tile.name});\r\n\t\t}\r\n\r\n\t\treturn grid;\r\n}\r\n\r\nfunction* expandSpan(xStart,xLen,yStart,yLen){\r\n\tconst xEnd=xStart+xLen;\r\n\tconst yEnd=yStart+yLen;\r\n\tfor (let x=xStart;x<xEnd;++x){\r\n\t\tfor (let y=yStart;y<yEnd;++y){\r\n\t\t\tyield {x,y};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction expandRange(range){\r\n\tif (range.length===4){\r\n\t\tconst [xStart,xLen,yStart,yLen]=range;\r\n\t\treturn expandSpan(xStart,xLen,yStart,yLen);\r\n\t}\r\n\r\n\telse if (range.length===3){\r\n\t\tconst [xStart,xLen,yStart]=range;\r\n\t\treturn expandSpan(xStart,xLen,yStart,1);\r\n\t}\r\n\r\n\telse if (range.length===2){\r\n\t\tconst [xStart,yStart]=range;\r\n\t\treturn expandSpan(xStart,1,yStart,1);\r\n\t}\r\n}\r\n\r\nfunction* expandRanges(ranges){\r\n\tfor (const range of ranges){\r\n\t\tfor (const item of expandRange(range)){\r\n\t\t\tyield item;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction expandTiles(tiles,patterns){\r\n\tconst expandedTiles =[];\r\n\r\n\tfunction walkTiles(tiles,offsetX,offsetY){\r\n\t\tfor (const tile of tiles){\r\n\t\t\tfor (const {x,y} of expandRanges(tile.ranges)){\r\n\t\t\t\tconst derivedX=x+offsetX;\r\n\t\t\t\tconst derivedY=y+offsetY;\r\n\r\n\t\t\t\tif (tile.pattern){\r\n\t\t\t\t\t\tconst tiles=patterns[tile.pattern].tiles;\r\n\t\t\t\t\t\twalkTiles(tiles,derivedX,derivedY);\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t\texpandedTiles.push({\r\n\t\t\t\t\t\t\ttile,\r\n\t\t\t\t\t\t\tx:derivedX,\r\n\t\t\t\t\t\t\ty:derivedY,\r\n\t\t\t\t\t\t}); \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\twalkTiles(tiles,0,0);\r\n\r\n\treturn expandedTiles;\r\n}\r\n","import {Trait} from '../Entity.js';\r\n\r\nexport default class Go extends Trait{\r\n\tconstructor(){\r\n\t\tsuper('go');\r\n\r\n\t\tthis.dir=0;\r\n\t\tthis.acceleration=400;\r\n\t\tthis.deceleration=300;\r\n\t\tthis.dragFactor=1/5000;\r\n\r\n\t\tthis.distance =0;\r\n\t\tthis.heading=1;\r\n\t}\r\n\r\n\tupdate(entity,deltaTime){\r\n\t\tconst absX=Math.abs(entity.vel.x);\r\n\t\tif (this.dir!==0){\r\n\t\t\tentity.vel.x+=this.acceleration*this.dir*deltaTime;\r\n\r\n\t\t\tif (entity.jump){\r\n\t\t\t\tif (entity.jump.falling===false){\r\n\t\t\t\t\tthis.heading=this.dir;\r\n\t\t\t\t}\r\n\t\t\t}else {\r\n\t\t\tthis.heading=this.dir;\r\n\t\t\t}\r\n\t\t} else if (entity.vel.x!==0){\r\n\t\t\tconst decel=Math.min(absX,this.deceleration*deltaTime);\r\n\t\t\tentity.vel.x+=entity.vel.x>0 ? -decel:decel;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.distance=0;\r\n\t\t}\r\n\r\n\t\tconst drag=this.dragFactor*entity.vel.x*absX;\r\n\t\tentity.vel.x-=drag;\r\n\r\n\t\tthis.distance+=absX*(deltaTime);\r\n\t}\r\n}","import {Sides,Trait} from '../Entity.js';\r\n\r\nexport default class Jump extends Trait{\r\n\tconstructor(){\r\n\t\tsuper('jump');\r\n\r\n\t\tthis.ready=0;\r\n\t\tthis.duration=0.5;\r\n\t\tthis.velocity=200;\r\n\t\tthis.engageTime=0;\r\n\t\tthis.requestTime=0;\r\n\t\tthis.gracePeriod=0.1;\r\n\t\tthis.speedBoost=0.1;\r\n\t}\r\n\r\n\tget falling(){\r\n\t\treturn this.ready <0;\r\n\t}\r\n\r\n\tstart(){\r\n\t\tthis.requestTime=this.gracePeriod;\r\n\t}\r\n\r\n\tcancel(){\r\n\t\tthis.engageTime=0;\r\n\t\tthis.requestTime=0;\r\n\t}\r\n\r\n\tobstruct(entity, side){\r\n\t\tif (side===Sides.BOTTOM){\r\n\t\t\tthis.ready=1;\r\n\t\t} else if (side===Sides.TOP){\r\n\t\t\tthis.cancel();\r\n\t\t}\r\n\t}\r\n\r\n\tupdate(entity,deltaTime){\r\n\t\tif (this.requestTime>0){\r\n\t\t\tif (this.ready>0){\r\n\t\t\t\tthis.engageTime=0.3;\r\n\t\t\t\tthis.requestTime=0;\r\n\t\t\t}\r\n\r\n\t\t\tthis.requestTime-=deltaTime;\r\n\t\t}\r\n\t\tif (this.engageTime>0){\r\n\t\t\tentity.vel.y=-this.velocity+Math.abs(entity.vel.x)*this.speedBoost;\r\n\t\t\tthis.engageTime-=deltaTime;\r\n\t\t}\r\n\r\n\t\tthis.ready--;\r\n\t}\r\n}","import Entity from './Entity.js';\r\nimport Go from './traits/Go.js';\r\nimport Jump from './traits/Jump.js';\r\nimport {loadSpriteSheet} from './loaders.js';\r\nimport {createAnim} from './anim.js';\r\n\r\nexport function createMario(){\r\n\treturn loadSpriteSheet('mario')\r\n\t.then(sprite=>{\r\n\t\tconst mario = new Entity();\r\n\t\tmario.size.set(50,50);\r\n\t\t\r\n\t\tmario.addTrait(new Go());\r\n\t\tmario.addTrait(new Jump());\r\n\r\n\t\tconst runAim=createAnim(['run-1','run-2'],15);\r\n\r\n\t\tfunction routeFrame(mario){\r\n\t\t\tif (mario.jump.falling){\r\n\t\t\t\treturn 'jump';\r\n\t\t\t}\r\n\t\t\tif (mario.go.dir!==0){\r\n\t\t\t\tif ((mario.vel.x>0&&mario.go.dir<0)||(mario.vel.x<0&&mario.go.dir>0)){\r\n\t\t\t\t\treturn 'break';\r\n\t\t\t\t}\r\n\t\t\t\treturn runAim(mario.go.distance);\r\n\t\t\t}\r\n\t\t\treturn 'player';\r\n\t\t}\r\n\r\n\t\tmario.draw=function drawMario(context){\r\n\t\t\tsprite.draw(routeFrame(mario),context,0,0,this.go.heading<0);\r\n\t\t}\r\n\r\n\t\treturn mario;\r\n\t});\r\n}","export default class Timer{\r\n\tconstructor (deltaTime=1/60){\r\n\tlet accumulatedTime=0;\r\n\tlet lastTime=0;\r\n\r\n \tthis.updateProxy = (time)=>{\r\n \taccumulatedTime+=(time-lastTime)/1000;\r\n\r\n \tif (accumulatedTime >1){\r\n \t\taccumulatedTime=1;\r\n \t}\r\n\r\n \twhile (accumulatedTime > deltaTime){\r\n \tthis.update(deltaTime);\r\n \taccumulatedTime-=deltaTime;\r\n \t\t\t}\r\n \tlastTime=time;\r\n \tthis.enqueue();\r\n \t\t}\r\n\t}\r\n\r\n\tenqueue(){\r\n\t\trequestAnimationFrame(this.updateProxy);\r\n\t}\r\n\r\n\tstart(){\r\n\t\tthis.enqueue();\r\n\t}\r\n}","const PRESSED =1;\r\nconst RELEASED =0;\r\n\r\nexport default class KeyboardState{\r\n\tconstructor(){\r\n\t\t// Holds the current state of a given key\r\n\t\tthis.keyStates=new Map();\r\n\r\n\t\t// Holds the callback functions for a key code\r\n\t\tthis.keyMap=new Map();\r\n\t}\r\n\r\n\taddMapping(code, callback){\r\n\t\tthis.keyMap.set(code,callback);\r\n\t}\r\n\r\n\thandleEvent(event){\r\n\t\tconst {code}=event;\r\n\r\n\t\tif (!this.keyMap.has(code)){\r\n\t\t\t// Did not have key mapped.\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst keyState=event.type ==='keydown' ? PRESSED : RELEASED;\r\n\r\n\t\tif (this.keyStates.get(code) === keyState){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.keyStates.set(code, keyState);\r\n\t\t//console.log(this.keyStates);\r\n\t\tthis.keyMap.get(code)(keyState);\r\n\t}\r\n\r\n\tlistenTo(window){\r\n\t\t['keydown','keyup'].forEach(eventName=>{\r\n\t\t\twindow.addEventListener(eventName,event=>{\r\n\t\t\t\tthis.handleEvent(event);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}","import KeyboardState from './KeyboardState.js';\r\n\r\nexport function setupKeyboard(entity){\r\n \tconst input =new KeyboardState();\r\n\tinput.addMapping('Space', keyState=>{\r\n\t\tif (keyState){\r\n\t\t\tentity.jump.start();\r\n\t\t} \r\n\t\telse{\r\n\t\t\tentity.jump.cancel();\r\n\t\t}\r\n\t});\r\n\tinput.addMapping('ArrowRight', keyState=>{\r\n\t\tentity.go.dir+=keyState?1:-1;\r\n\t});\r\n\tinput.addMapping('ArrowLeft', keyState=>{\r\n\t\tentity.go.dir+=keyState?-1:1;\r\n\t});\r\n\r\n\treturn input;\r\n}","import {Vec2} from './math.js';\r\n\r\nexport default class Camera {\r\n\tconstructor(){\r\n\t\tthis.pos=new Vec2(0,0);\r\n\t\t//this.size=new Vec2(256,224);\r\n\t\tthis.size=new Vec2(500,320);\r\n\t}\r\n}","import Entity from './Entity.js';\r\nimport {loadSpriteSheet} from './loaders.js';\r\n\r\nexport function createTxt1(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(200,100);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text1',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n};\r\n\r\nexport function createTxt2(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(200,70);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text2',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n};\r\n\r\nexport function createTxt3(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(200,80);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text3',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n}\r\n\r\nexport function createTxt4(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(200,55);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text4',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n}\r\n\r\nexport function createTxt5(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(0,20);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text5',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n}\r\n\r\nexport function createTxt6(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(150,20);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text6',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n}\r\n\r\nexport function createTxt7(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(200,150);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text7',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n}\r\n\r\nexport function createTxt8(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(200,90);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text8',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n}\r\n\r\nexport function createTxt9(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(200,150);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text9',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n}\r\n\r\nexport function createTxt10(){\r\n\treturn loadSpriteSheet('text')\r\n\t.then(sprite=>{\r\n\t\tconst text = new Entity();\r\n\t\ttext.size.set(200,150);\r\n        text.draw=function drawMsg(context){\r\n\t\t\tsprite.draw('text10',context,0,0);\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t});\r\n}","import React, { useRef, useEffect } from 'react';\r\nimport {loadLevel} from './loaders/level.js';\r\nimport {createMario} from './entities.js';\r\nimport Timer from './Timer.js';\r\nimport {setupKeyboard} from './input.js';\r\nimport Camera from './Camera.js';\r\nimport './canvas.scss';\r\nimport * as msg from './entities_msg.js';\r\n\r\nconst Canvas = (props) => {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    console.log(canvas);\r\n    const context = canvas.getContext('2d');\r\n    context.canvas.width=500;\r\n    context.canvas.height=320;\r\n    \r\n    Promise.all([\r\n      createMario(),\r\n      loadLevel('1-1'),\r\n      msg.createTxt1(),\r\n      msg.createTxt2(),\r\n      msg.createTxt3(),\r\n      msg.createTxt4(),\r\n      msg.createTxt5(),\r\n      msg.createTxt6(),\r\n      msg.createTxt7(),\r\n      msg.createTxt8(),\r\n      msg.createTxt9(),\r\n      msg.createTxt10(),\r\n    ])\r\n    .then(([mario,level,text1,text2,text3,text4,text5,text6,text7,text8,text9,text10])=>{\r\n      const camera = new Camera();\r\n      window.camera=camera;\r\n   \r\n      mario.pos.set(50,90);\r\n      text1.pos.set(50,90);\r\n      text2.pos.set(50,90);\r\n      text3.pos.set(500,80);\r\n      text4.pos.set(500,80);\r\n      text5.pos.set(720,80);\r\n      text6.pos.set(880,40);\r\n      text7.pos.set(1280,80);\r\n      text8.pos.set(1280,80);\r\n      text9.pos.set(1800,80);\r\n      text10.pos.set(2400,80);\r\n   \r\n      level.entities.add(mario);\r\n      level.entities.add(text1);\r\n      level.entities.add(text2);\r\n      level.entities.add(text3);\r\n      level.entities.add(text4);\r\n      level.entities.add(text5);\r\n      level.entities.add(text6);\r\n      level.entities.add(text7);\r\n      level.entities.add(text8);\r\n      level.entities.add(text9);\r\n      level.entities.add(text10);\r\n\r\n      const input=setupKeyboard(mario);\r\n      input.listenTo(window);\r\n   \r\n      const timer= new Timer(1/60);\r\n   \r\n      timer.update =function update(deltaTime){\r\n      level.comp.draw(context,camera);\r\n      level.update(deltaTime);\r\n      if (mario.pos.x>100){\r\n        camera.pos.x=mario.pos.x-100\r\n      }\r\n    }\r\n      timer.start();\r\n    });\r\n  },[])\r\n  \r\n  return(\r\n    <>\r\n    <canvas className=\"canvas\" ref={canvasRef} {...props}/>\r\n    <h2 className=\"guide\">Arrow key left & right to move! Space to jump!</h2>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Canvas","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './canvas.scss';\r\n\r\nexport default function Navbar() {\r\n  return (\r\n  <>\r\n    <ul>\r\n      <Link to=\"/portfolio\" className=\"portfolio\"><span>Check</span> <span>out</span> <span>my</span> <span>projects</span> <span>here!</span></Link>\r\n    </ul>\r\n  </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport './portfolio.scss';\r\n\r\nconst Portfolio = () =>{\r\n    return (\r\n        <>\r\n        <div id=\"title\" className=\"slide header\">\r\n            <img id=\"profilepic\" src='/img/me.jpg' alt=\"Cannot view? Oh you just missed my handsome face\"></img>\r\n            <h1>Kai Yang</h1>\r\n            <div className=\"table center\">\r\n            <div className=\"monitor-wrapper center\">\r\n              <div className=\"monitor center\">\r\n                <p className=\"text1 center\">Data Enthusiast | Problem Solver | JavaScript Lover</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"slide1\" className=\"slide\">\r\n            <div className=\"title\">\r\n                <h1>Underground Mobility Sensing Project using multi-sensory data with Machine Learning</h1>\r\n                <p>Location information about commuter activities is vital for planning for travel disruptions and infrastructural development. However, GPS connectivity is lost when underground in our MRT networks.\r\n                The Mobility Sensing Project aims to find innovative and novel ways to conduct location sensing using multi-sensory data collected in smartphones.</p>\r\n                <p>Visit this <a href=\"https://github.com/kaiyang7766/UndergroundMobilitySensing\" target=\"_blank\">link</a> to find out more!</p>\r\n                <p></p>\r\n                <img id=\"projectpic\" src=\"/img/LTA_logo.png\"/>\r\n            </div>\r\n        </div>\r\n\r\n        <div id=\"slide2\" className=\"slide\">\r\n            <div className=\"title\">\r\n                <h1>Breadtalk Traceability Online System</h1>\r\n                <p>Food Traceability System has always been a core in Food Safety measurements. In order to facilitate efficient tracking of raw materials back in my internship at BreadTalk, I created an online system using React.js for the production team to record down the daily usage of materials on the comfort of their phones.</p>\r\n                <p><a href=\"https://github.com/kaiyang7766/breadtalkmockapp\" target=\"_blank\">Github code repository</a></p>\r\n                <p><a href=\"https://focused-ardinghelli-c3b960.netlify.app/\" target=\"_blank\">Mock application interface (Only Traceability System is working)</a></p>\r\n            </div>\r\n            <img id=\"projectpic\" src=\"/img/Breadtalk_logo.jpg\"/>\r\n            {/* <img id=\"projectpic\" src=\"https://lorempixel.com/640/480/abstract/4/\"/> */}\r\n        </div>\r\n\r\n        {/* <div id=\"slide3\" className=\"slide\">\r\n            <div className=\"title\">\r\n                <h1>Slide 3</h1>\r\n                <p>Lorem ipsum dolor sit amet, in velit iudico mandamus sit, persius dolorum in per, postulant mnesarchum cu nam. Malis movet ornatus id vim, feugait detracto est ea, eam eruditi conceptam in. Ne sit explicari interesset. Labores perpetua cum at. Id viris docendi denique vim.</p>\r\n            </div>\r\n        </div> */}\r\n\r\n        <div id=\"slide4\" className=\"slide header\">\r\n            <h1>Connect with me!</h1>\r\n            <a href=\"https://github.com/kaiyang7766\" target=\"_blank\">\r\n                <img id=\"connectpic\" src=\"/img/Github_logo_white.png\"/>\r\n            </a>\r\n            <a href=\"https://www.linkedin.com/in/ang-kai-yang/\" target=\"_blank\">\r\n                <img id=\"connectpic\" src=\"/img/LinkedIn_logo_white.png\"/>\r\n            </a>\r\n        </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Portfolio;","import React, { useRef, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Canvas from './Canvas.js';\r\nimport Navbar from './Navbar.js';\r\nimport Portfolio from '../Portfolio.js';\r\nimport '../portfolio.scss';\r\n\r\nconst Main = () => {\r\n  return(\r\n    <>\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Canvas/>\r\n          <Navbar/>\r\n        </Route>\r\n        <Route exact path=\"/portfolio\">\r\n          <Portfolio/>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Main","import Main from './js';\n\nfunction App() {\n  return(\n    <>\n    <Main/>\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}